(function(He,Et){typeof exports=="object"&&typeof module<"u"?Et(exports):typeof define=="function"&&define.amd?define(["exports"],Et):(He=typeof globalThis<"u"?globalThis:He||self,Et(He.PureDocs={}))})(this,(function(He){"use strict";class Et{constructor(){this.listeners=new Set,this.state=this.defaultState()}defaultState(){return{spec:null,loading:!0,error:null,route:{type:"overview"},theme:"light",sidebarOpen:!0,searchOpen:!1,activeEnvironment:"default",environments:[{name:"default",baseUrl:""}],initialEnvironments:[{name:"default",baseUrl:""}],auth:{schemes:{},activeScheme:"",token:"",locked:!1,source:"manual"},tryItState:null}}get(){return this.state}set(t){this.state={...this.state,...t},this.notify()}setAuth(t){this.state={...this.state,auth:{...this.state.auth,...t}},this.notify()}setSchemeValue(t,n){const i={...this.state.auth.schemes,[t]:n},r=t,s=n;this.state={...this.state,auth:{...this.state.auth,schemes:i,activeScheme:r,token:s,source:"manual"}},this.notify()}setTryIt(t){t===null?this.state={...this.state,tryItState:null}:this.state={...this.state,tryItState:{...this.state.tryItState,...t}},this.notify()}setRoute(t){this.state={...this.state,route:t},this.notify()}setActiveEnvironment(t){this.state={...this.state,activeEnvironment:t},this.notify()}subscribe(t){return this.listeners.add(t),()=>this.listeners.delete(t)}notify(){for(const t of this.listeners)try{t(this.state)}catch(n){console.error("[ApiPortal] Subscriber error:",n)}}reset(){this.state=this.defaultState(),this.listeners.clear()}}const k=new Et;let qt="";function Hi(e=""){qt=e.replace(/\/$/,""),window.addEventListener("popstate",Pt),Pt()}function se(e){window.history.pushState(null,"",qt+e),Pt()}function Ui(){const e=window.location.pathname;return qt?e.replace(qt,"")||"/":e}function lr(e){const t=e.replace(/^\/+/,"").replace(/\/+$/,"");if(!t||t==="/")return{type:"overview"};const n=t.match(/^operations\/([^/]+)\/([^/]+)\/(.+)$/);if(n)return{type:"endpoint",tag:decodeURIComponent(n[1]),method:n[2].toLowerCase(),path:"/"+decodeURIComponent(n[3])};const i=t.match(/^tags\/([^/]+)$/);if(i)return{type:"tag",tag:decodeURIComponent(i[1])};const r=t.match(/^schemas\/(.+)$/);if(r)return{type:"schema",schemaName:decodeURIComponent(r[1])};const s=t.match(/^webhooks\/(.+)$/);if(s)return{type:"webhook",webhookName:decodeURIComponent(s[1])};const a=t.match(/^guides\/(.+)$/);return a?{type:"guide",guidePath:decodeURIComponent(a[1])}:{type:"overview"}}function ae(e){switch(e.type){case"overview":return"/";case"tag":return`/tags/${encodeURIComponent(e.tag||"")}`;case"endpoint":return`/operations/${encodeURIComponent(e.tag||"default")}/${e.method}/${encodeURIComponent((e.path||"/").slice(1))}`;case"schema":return`/schemas/${encodeURIComponent(e.schemaName||"")}`;case"webhook":return`/webhooks/${encodeURIComponent(e.webhookName||"")}`;case"guide":return`/guides/${encodeURIComponent(e.guidePath||"")}`;default:return"/"}}function Pt(){const e=Ui(),t=lr(e);k.setRoute(t)}function zi(){window.removeEventListener("popstate",Pt)}function kt(e){if(e===void 0)return;if(!Array.isArray(e))return[];const t=[];for(const n of e){if(!n||typeof n!="object"||Array.isArray(n))continue;const i={};for(const[r,s]of Object.entries(n)){const a=Array.isArray(s)?s.map(o=>String(o)):[];i[r]=a}t.push(i)}return t}function vn(e,t,n){if(!e||e.length===0)return{explicitlyNoAuth:n,requirements:[]};const i=e.map(r=>Object.entries(r).map(([s,a])=>({schemeName:s,scopes:Array.isArray(a)?a:[],scheme:t[s]})));return{explicitlyNoAuth:n,requirements:i}}function le(e){return!!(e&&!e.explicitlyNoAuth&&e.requirements.length>0)}function bn(e){if(!e)return"Auth";if(e.type==="http"){const t=(e.scheme||"").toLowerCase();return t==="bearer"?"Bearer":t==="basic"?"Basic":"HTTP"}return e.type==="apiKey"?"API Key":e.type==="oauth2"?"OAuth2":e.type==="openIdConnect"?"OpenID Connect":e.type||"Auth"}function Wi(e){if(!le(e))return[];const t=new Set,n=[];for(const i of e.requirements)for(const r of i){const s=bn(r.scheme);t.has(s)||(t.add(s),n.push(s))}return n}function ur(e){const t=Wi(e);return t.length===0?null:t.length===1?`${t[0]} required`:`${t[0]} +${t.length-1} required`}function st(e){return le(e)?`Requires authentication: ${e.requirements.map(n=>n.map(i=>{const r=bn(i.scheme);return i.scopes.length>0?`${r} [${i.scopes.join(", ")}]`:r}).join(" + ")).join(" OR ")}`:"Authentication not required"}function Dt(e,t,n,i){const r={headers:{},query:{},cookies:{},matchedSchemeNames:[]};if(!le(e))return r;for(const o of e.requirements){if(!o.every(f=>!!t[f.schemeName])&&o.length>0)continue;const u=dr(o,t);if(Object.keys(u.headers).length>0||Object.keys(u.query).length>0||Object.keys(u.cookies).length>0)return u}return!i||!n?r:dr([{schemeName:n,scopes:[]}],{...t,[n]:i})}function Ki(e){const t={};if(!le(e))return t;const n=e.requirements[0]||[];for(const i of n){const r=i.scheme;if(r){if(r.type==="http"){const s=(r.scheme||"").toLowerCase();s==="bearer"?t.Authorization="Bearer <token>":s==="basic"?t.Authorization="Basic <credentials>":t.Authorization="<token>";continue}r.type==="apiKey"&&r.in==="header"&&r.name&&(t[r.name]=`<${r.name}>`)}}return t}function dr(e,t){const n={headers:{},query:{},cookies:{},matchedSchemeNames:[]};for(const i of e){const r=i.scheme,s=t[i.schemeName];if(!(!r||!s)){if(n.matchedSchemeNames.push(i.schemeName),r.type==="http"){const a=(r.scheme||"").toLowerCase();a==="bearer"?n.headers.Authorization=`Bearer ${s}`:a==="basic"?n.headers.Authorization=`Basic ${s}`:n.headers.Authorization=s;continue}if(r.type==="oauth2"||r.type==="openIdConnect"){n.headers.Authorization=`Bearer ${s}`;continue}r.type==="apiKey"&&r.name&&(r.in==="query"?n.query[r.name]=s:r.in==="cookie"?n.cookies[r.name]=s:n.headers[r.name]=s)}}return n}/*! js-yaml 4.1.1 https://github.com/nodeca/js-yaml @license MIT */function pr(e){return typeof e>"u"||e===null}function Gi(e){return typeof e=="object"&&e!==null}function Yi(e){return Array.isArray(e)?e:pr(e)?[]:[e]}function Vi(e,t){var n,i,r,s;if(t)for(s=Object.keys(t),n=0,i=s.length;n<i;n+=1)r=s[n],e[r]=t[r];return e}function Ji(e,t){var n="",i;for(i=0;i<t;i+=1)n+=e;return n}function Xi(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var Zi=pr,Qi=Gi,es=Yi,ts=Ji,ns=Xi,rs=Vi,me={isNothing:Zi,isObject:Qi,toArray:es,repeat:ts,isNegativeZero:ns,extend:rs};function fr(e,t){var n="",i=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(n+='in "'+e.mark.name+'" '),n+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(n+=`

`+e.mark.snippet),i+" "+n):i}function Nt(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=fr(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Nt.prototype=Object.create(Error.prototype),Nt.prototype.constructor=Nt,Nt.prototype.toString=function(t){return this.name+": "+fr(this,t)};var Be=Nt;function yn(e,t,n,i,r){var s="",a="",o=Math.floor(r/2)-1;return i-t>o&&(s=" ... ",t=i-o+s.length),n-i>o&&(a=" ...",n=i+o-a.length),{str:s+e.slice(t,n).replace(/\t/g,"→")+a,pos:i-t+s.length}}function xn(e,t){return me.repeat(" ",t-e.length)+e}function is(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var n=/\r?\n|\r|\0/g,i=[0],r=[],s,a=-1;s=n.exec(e.buffer);)r.push(s.index),i.push(s.index+s[0].length),e.position<=s.index&&a<0&&(a=i.length-2);a<0&&(a=i.length-1);var o="",l,u,f=Math.min(e.line+t.linesAfter,r.length).toString().length,p=t.maxLength-(t.indent+f+3);for(l=1;l<=t.linesBefore&&!(a-l<0);l++)u=yn(e.buffer,i[a-l],r[a-l],e.position-(i[a]-i[a-l]),p),o=me.repeat(" ",t.indent)+xn((e.line-l+1).toString(),f)+" | "+u.str+`
`+o;for(u=yn(e.buffer,i[a],r[a],e.position,p),o+=me.repeat(" ",t.indent)+xn((e.line+1).toString(),f)+" | "+u.str+`
`,o+=me.repeat("-",t.indent+f+3+u.pos)+`^
`,l=1;l<=t.linesAfter&&!(a+l>=r.length);l++)u=yn(e.buffer,i[a+l],r[a+l],e.position-(i[a]-i[a+l]),p),o+=me.repeat(" ",t.indent)+xn((e.line+l+1).toString(),f)+" | "+u.str+`
`;return o.replace(/\n$/,"")}var ss=is,as=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],os=["scalar","sequence","mapping"];function cs(e){var t={};return e!==null&&Object.keys(e).forEach(function(n){e[n].forEach(function(i){t[String(i)]=n})}),t}function ls(e,t){if(t=t||{},Object.keys(t).forEach(function(n){if(as.indexOf(n)===-1)throw new Be('Unknown option "'+n+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(n){return n},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=cs(t.styleAliases||null),os.indexOf(this.kind)===-1)throw new Be('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var pe=ls;function hr(e,t){var n=[];return e[t].forEach(function(i){var r=n.length;n.forEach(function(s,a){s.tag===i.tag&&s.kind===i.kind&&s.multi===i.multi&&(r=a)}),n[r]=i}),n}function us(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,n;function i(r){r.multi?(e.multi[r.kind].push(r),e.multi.fallback.push(r)):e[r.kind][r.tag]=e.fallback[r.tag]=r}for(t=0,n=arguments.length;t<n;t+=1)arguments[t].forEach(i);return e}function Sn(e){return this.extend(e)}Sn.prototype.extend=function(t){var n=[],i=[];if(t instanceof pe)i.push(t);else if(Array.isArray(t))i=i.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(n=n.concat(t.implicit)),t.explicit&&(i=i.concat(t.explicit));else throw new Be("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");n.forEach(function(s){if(!(s instanceof pe))throw new Be("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new Be("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new Be("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),i.forEach(function(s){if(!(s instanceof pe))throw new Be("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var r=Object.create(Sn.prototype);return r.implicit=(this.implicit||[]).concat(n),r.explicit=(this.explicit||[]).concat(i),r.compiledImplicit=hr(r,"implicit"),r.compiledExplicit=hr(r,"explicit"),r.compiledTypeMap=us(r.compiledImplicit,r.compiledExplicit),r};var ds=Sn,ps=new pe("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),fs=new pe("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),hs=new pe("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),ms=new ds({explicit:[ps,fs,hs]});function gs(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function vs(){return null}function bs(e){return e===null}var ys=new pe("tag:yaml.org,2002:null",{kind:"scalar",resolve:gs,construct:vs,predicate:bs,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function xs(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function Ss(e){return e==="true"||e==="True"||e==="TRUE"}function Es(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var ks=new pe("tag:yaml.org,2002:bool",{kind:"scalar",resolve:xs,construct:Ss,predicate:Es,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function Ns(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function Cs(e){return 48<=e&&e<=55}function ws(e){return 48<=e&&e<=57}function As(e){if(e===null)return!1;var t=e.length,n=0,i=!1,r;if(!t)return!1;if(r=e[n],(r==="-"||r==="+")&&(r=e[++n]),r==="0"){if(n+1===t)return!0;if(r=e[++n],r==="b"){for(n++;n<t;n++)if(r=e[n],r!=="_"){if(r!=="0"&&r!=="1")return!1;i=!0}return i&&r!=="_"}if(r==="x"){for(n++;n<t;n++)if(r=e[n],r!=="_"){if(!Ns(e.charCodeAt(n)))return!1;i=!0}return i&&r!=="_"}if(r==="o"){for(n++;n<t;n++)if(r=e[n],r!=="_"){if(!Cs(e.charCodeAt(n)))return!1;i=!0}return i&&r!=="_"}}if(r==="_")return!1;for(;n<t;n++)if(r=e[n],r!=="_"){if(!ws(e.charCodeAt(n)))return!1;i=!0}return!(!i||r==="_")}function Os(e){var t=e,n=1,i;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),i=t[0],(i==="-"||i==="+")&&(i==="-"&&(n=-1),t=t.slice(1),i=t[0]),t==="0")return 0;if(i==="0"){if(t[1]==="b")return n*parseInt(t.slice(2),2);if(t[1]==="x")return n*parseInt(t.slice(2),16);if(t[1]==="o")return n*parseInt(t.slice(2),8)}return n*parseInt(t,10)}function Ts(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!me.isNegativeZero(e)}var Ls=new pe("tag:yaml.org,2002:int",{kind:"scalar",resolve:As,construct:Os,predicate:Ts,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),_s=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function Is(e){return!(e===null||!_s.test(e)||e[e.length-1]==="_")}function Ms(e){var t,n;return t=e.replace(/_/g,"").toLowerCase(),n=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?n===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:n*parseFloat(t,10)}var Rs=/^[-+]?[0-9]+e/;function Bs(e,t){var n;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(me.isNegativeZero(e))return"-0.0";return n=e.toString(10),Rs.test(n)?n.replace("e",".e"):n}function $s(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||me.isNegativeZero(e))}var js=new pe("tag:yaml.org,2002:float",{kind:"scalar",resolve:Is,construct:Ms,predicate:$s,represent:Bs,defaultStyle:"lowercase"}),qs=ms.extend({implicit:[ys,ks,Ls,js]}),Ps=qs,mr=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),gr=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Ds(e){return e===null?!1:mr.exec(e)!==null||gr.exec(e)!==null}function Fs(e){var t,n,i,r,s,a,o,l=0,u=null,f,p,g;if(t=mr.exec(e),t===null&&(t=gr.exec(e)),t===null)throw new Error("Date resolve error");if(n=+t[1],i=+t[2]-1,r=+t[3],!t[4])return new Date(Date.UTC(n,i,r));if(s=+t[4],a=+t[5],o=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(f=+t[10],p=+(t[11]||0),u=(f*60+p)*6e4,t[9]==="-"&&(u=-u)),g=new Date(Date.UTC(n,i,r,s,a,o,l)),u&&g.setTime(g.getTime()-u),g}function Hs(e){return e.toISOString()}var Us=new pe("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Ds,construct:Fs,instanceOf:Date,represent:Hs});function zs(e){return e==="<<"||e===null}var Ws=new pe("tag:yaml.org,2002:merge",{kind:"scalar",resolve:zs}),En=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Ks(e){if(e===null)return!1;var t,n,i=0,r=e.length,s=En;for(n=0;n<r;n++)if(t=s.indexOf(e.charAt(n)),!(t>64)){if(t<0)return!1;i+=6}return i%8===0}function Gs(e){var t,n,i=e.replace(/[\r\n=]/g,""),r=i.length,s=En,a=0,o=[];for(t=0;t<r;t++)t%4===0&&t&&(o.push(a>>16&255),o.push(a>>8&255),o.push(a&255)),a=a<<6|s.indexOf(i.charAt(t));return n=r%4*6,n===0?(o.push(a>>16&255),o.push(a>>8&255),o.push(a&255)):n===18?(o.push(a>>10&255),o.push(a>>2&255)):n===12&&o.push(a>>4&255),new Uint8Array(o)}function Ys(e){var t="",n=0,i,r,s=e.length,a=En;for(i=0;i<s;i++)i%3===0&&i&&(t+=a[n>>18&63],t+=a[n>>12&63],t+=a[n>>6&63],t+=a[n&63]),n=(n<<8)+e[i];return r=s%3,r===0?(t+=a[n>>18&63],t+=a[n>>12&63],t+=a[n>>6&63],t+=a[n&63]):r===2?(t+=a[n>>10&63],t+=a[n>>4&63],t+=a[n<<2&63],t+=a[64]):r===1&&(t+=a[n>>2&63],t+=a[n<<4&63],t+=a[64],t+=a[64]),t}function Vs(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var Js=new pe("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Ks,construct:Gs,predicate:Vs,represent:Ys}),Xs=Object.prototype.hasOwnProperty,Zs=Object.prototype.toString;function Qs(e){if(e===null)return!0;var t=[],n,i,r,s,a,o=e;for(n=0,i=o.length;n<i;n+=1){if(r=o[n],a=!1,Zs.call(r)!=="[object Object]")return!1;for(s in r)if(Xs.call(r,s))if(!a)a=!0;else return!1;if(!a)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}function ea(e){return e!==null?e:[]}var ta=new pe("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Qs,construct:ea}),na=Object.prototype.toString;function ra(e){if(e===null)return!0;var t,n,i,r,s,a=e;for(s=new Array(a.length),t=0,n=a.length;t<n;t+=1){if(i=a[t],na.call(i)!=="[object Object]"||(r=Object.keys(i),r.length!==1))return!1;s[t]=[r[0],i[r[0]]]}return!0}function ia(e){if(e===null)return[];var t,n,i,r,s,a=e;for(s=new Array(a.length),t=0,n=a.length;t<n;t+=1)i=a[t],r=Object.keys(i),s[t]=[r[0],i[r[0]]];return s}var sa=new pe("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:ra,construct:ia}),aa=Object.prototype.hasOwnProperty;function oa(e){if(e===null)return!0;var t,n=e;for(t in n)if(aa.call(n,t)&&n[t]!==null)return!1;return!0}function ca(e){return e!==null?e:{}}var la=new pe("tag:yaml.org,2002:set",{kind:"mapping",resolve:oa,construct:ca}),ua=Ps.extend({implicit:[Us,Ws],explicit:[Js,ta,sa,la]}),Ue=Object.prototype.hasOwnProperty,Ft=1,vr=2,br=3,Ht=4,kn=1,da=2,yr=3,pa=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,fa=/[\x85\u2028\u2029]/,ha=/[,\[\]\{\}]/,xr=/^(?:!|!!|![a-z\-]+!)$/i,Sr=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Er(e){return Object.prototype.toString.call(e)}function Ae(e){return e===10||e===13}function Je(e){return e===9||e===32}function be(e){return e===9||e===32||e===10||e===13}function at(e){return e===44||e===91||e===93||e===123||e===125}function ma(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function ga(e){return e===120?2:e===117?4:e===85?8:0}function va(e){return 48<=e&&e<=57?e-48:-1}function kr(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}function ba(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}function Nr(e,t,n){t==="__proto__"?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,writable:!0,value:n}):e[t]=n}for(var Cr=new Array(256),wr=new Array(256),ot=0;ot<256;ot++)Cr[ot]=kr(ot)?1:0,wr[ot]=kr(ot);function ya(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||ua,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Ar(e,t){var n={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return n.snippet=ss(n),new Be(t,n)}function L(e,t){throw Ar(e,t)}function Ut(e,t){e.onWarning&&e.onWarning.call(null,Ar(e,t))}var Or={YAML:function(t,n,i){var r,s,a;t.version!==null&&L(t,"duplication of %YAML directive"),i.length!==1&&L(t,"YAML directive accepts exactly one argument"),r=/^([0-9]+)\.([0-9]+)$/.exec(i[0]),r===null&&L(t,"ill-formed argument of the YAML directive"),s=parseInt(r[1],10),a=parseInt(r[2],10),s!==1&&L(t,"unacceptable YAML version of the document"),t.version=i[0],t.checkLineBreaks=a<2,a!==1&&a!==2&&Ut(t,"unsupported YAML version of the document")},TAG:function(t,n,i){var r,s;i.length!==2&&L(t,"TAG directive accepts exactly two arguments"),r=i[0],s=i[1],xr.test(r)||L(t,"ill-formed tag handle (first argument) of the TAG directive"),Ue.call(t.tagMap,r)&&L(t,'there is a previously declared suffix for "'+r+'" tag handle'),Sr.test(s)||L(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{L(t,"tag prefix is malformed: "+s)}t.tagMap[r]=s}};function ze(e,t,n,i){var r,s,a,o;if(t<n){if(o=e.input.slice(t,n),i)for(r=0,s=o.length;r<s;r+=1)a=o.charCodeAt(r),a===9||32<=a&&a<=1114111||L(e,"expected valid JSON character");else pa.test(o)&&L(e,"the stream contains non-printable characters");e.result+=o}}function Tr(e,t,n,i){var r,s,a,o;for(me.isObject(n)||L(e,"cannot merge mappings; the provided source object is unacceptable"),r=Object.keys(n),a=0,o=r.length;a<o;a+=1)s=r[a],Ue.call(t,s)||(Nr(t,s,n[s]),i[s]=!0)}function ct(e,t,n,i,r,s,a,o,l){var u,f;if(Array.isArray(r))for(r=Array.prototype.slice.call(r),u=0,f=r.length;u<f;u+=1)Array.isArray(r[u])&&L(e,"nested arrays are not supported inside keys"),typeof r=="object"&&Er(r[u])==="[object Object]"&&(r[u]="[object Object]");if(typeof r=="object"&&Er(r)==="[object Object]"&&(r="[object Object]"),r=String(r),t===null&&(t={}),i==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(u=0,f=s.length;u<f;u+=1)Tr(e,t,s[u],n);else Tr(e,t,s,n);else!e.json&&!Ue.call(n,r)&&Ue.call(t,r)&&(e.line=a||e.line,e.lineStart=o||e.lineStart,e.position=l||e.position,L(e,"duplicated mapping key")),Nr(t,r,s),delete n[r];return t}function Nn(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):L(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function ne(e,t,n){for(var i=0,r=e.input.charCodeAt(e.position);r!==0;){for(;Je(r);)r===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),r=e.input.charCodeAt(++e.position);if(t&&r===35)do r=e.input.charCodeAt(++e.position);while(r!==10&&r!==13&&r!==0);if(Ae(r))for(Nn(e),r=e.input.charCodeAt(e.position),i++,e.lineIndent=0;r===32;)e.lineIndent++,r=e.input.charCodeAt(++e.position);else break}return n!==-1&&i!==0&&e.lineIndent<n&&Ut(e,"deficient indentation"),i}function zt(e){var t=e.position,n;return n=e.input.charCodeAt(t),!!((n===45||n===46)&&n===e.input.charCodeAt(t+1)&&n===e.input.charCodeAt(t+2)&&(t+=3,n=e.input.charCodeAt(t),n===0||be(n)))}function Cn(e,t){t===1?e.result+=" ":t>1&&(e.result+=me.repeat(`
`,t-1))}function xa(e,t,n){var i,r,s,a,o,l,u,f,p=e.kind,g=e.result,h;if(h=e.input.charCodeAt(e.position),be(h)||at(h)||h===35||h===38||h===42||h===33||h===124||h===62||h===39||h===34||h===37||h===64||h===96||(h===63||h===45)&&(r=e.input.charCodeAt(e.position+1),be(r)||n&&at(r)))return!1;for(e.kind="scalar",e.result="",s=a=e.position,o=!1;h!==0;){if(h===58){if(r=e.input.charCodeAt(e.position+1),be(r)||n&&at(r))break}else if(h===35){if(i=e.input.charCodeAt(e.position-1),be(i))break}else{if(e.position===e.lineStart&&zt(e)||n&&at(h))break;if(Ae(h))if(l=e.line,u=e.lineStart,f=e.lineIndent,ne(e,!1,-1),e.lineIndent>=t){o=!0,h=e.input.charCodeAt(e.position);continue}else{e.position=a,e.line=l,e.lineStart=u,e.lineIndent=f;break}}o&&(ze(e,s,a,!1),Cn(e,e.line-l),s=a=e.position,o=!1),Je(h)||(a=e.position+1),h=e.input.charCodeAt(++e.position)}return ze(e,s,a,!1),e.result?!0:(e.kind=p,e.result=g,!1)}function Sa(e,t){var n,i,r;if(n=e.input.charCodeAt(e.position),n!==39)return!1;for(e.kind="scalar",e.result="",e.position++,i=r=e.position;(n=e.input.charCodeAt(e.position))!==0;)if(n===39)if(ze(e,i,e.position,!0),n=e.input.charCodeAt(++e.position),n===39)i=e.position,e.position++,r=e.position;else return!0;else Ae(n)?(ze(e,i,r,!0),Cn(e,ne(e,!1,t)),i=r=e.position):e.position===e.lineStart&&zt(e)?L(e,"unexpected end of the document within a single quoted scalar"):(e.position++,r=e.position);L(e,"unexpected end of the stream within a single quoted scalar")}function Ea(e,t){var n,i,r,s,a,o;if(o=e.input.charCodeAt(e.position),o!==34)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(o=e.input.charCodeAt(e.position))!==0;){if(o===34)return ze(e,n,e.position,!0),e.position++,!0;if(o===92){if(ze(e,n,e.position,!0),o=e.input.charCodeAt(++e.position),Ae(o))ne(e,!1,t);else if(o<256&&Cr[o])e.result+=wr[o],e.position++;else if((a=ga(o))>0){for(r=a,s=0;r>0;r--)o=e.input.charCodeAt(++e.position),(a=ma(o))>=0?s=(s<<4)+a:L(e,"expected hexadecimal character");e.result+=ba(s),e.position++}else L(e,"unknown escape sequence");n=i=e.position}else Ae(o)?(ze(e,n,i,!0),Cn(e,ne(e,!1,t)),n=i=e.position):e.position===e.lineStart&&zt(e)?L(e,"unexpected end of the document within a double quoted scalar"):(e.position++,i=e.position)}L(e,"unexpected end of the stream within a double quoted scalar")}function ka(e,t){var n=!0,i,r,s,a=e.tag,o,l=e.anchor,u,f,p,g,h,v=Object.create(null),m,E,y,x;if(x=e.input.charCodeAt(e.position),x===91)f=93,h=!1,o=[];else if(x===123)f=125,h=!0,o={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),x=e.input.charCodeAt(++e.position);x!==0;){if(ne(e,!0,t),x=e.input.charCodeAt(e.position),x===f)return e.position++,e.tag=a,e.anchor=l,e.kind=h?"mapping":"sequence",e.result=o,!0;n?x===44&&L(e,"expected the node content, but found ','"):L(e,"missed comma between flow collection entries"),E=m=y=null,p=g=!1,x===63&&(u=e.input.charCodeAt(e.position+1),be(u)&&(p=g=!0,e.position++,ne(e,!0,t))),i=e.line,r=e.lineStart,s=e.position,lt(e,t,Ft,!1,!0),E=e.tag,m=e.result,ne(e,!0,t),x=e.input.charCodeAt(e.position),(g||e.line===i)&&x===58&&(p=!0,x=e.input.charCodeAt(++e.position),ne(e,!0,t),lt(e,t,Ft,!1,!0),y=e.result),h?ct(e,o,v,E,m,y,i,r,s):p?o.push(ct(e,null,v,E,m,y,i,r,s)):o.push(m),ne(e,!0,t),x=e.input.charCodeAt(e.position),x===44?(n=!0,x=e.input.charCodeAt(++e.position)):n=!1}L(e,"unexpected end of the stream within a flow collection")}function Na(e,t){var n,i,r=kn,s=!1,a=!1,o=t,l=0,u=!1,f,p;if(p=e.input.charCodeAt(e.position),p===124)i=!1;else if(p===62)i=!0;else return!1;for(e.kind="scalar",e.result="";p!==0;)if(p=e.input.charCodeAt(++e.position),p===43||p===45)kn===r?r=p===43?yr:da:L(e,"repeat of a chomping mode identifier");else if((f=va(p))>=0)f===0?L(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):a?L(e,"repeat of an indentation width identifier"):(o=t+f-1,a=!0);else break;if(Je(p)){do p=e.input.charCodeAt(++e.position);while(Je(p));if(p===35)do p=e.input.charCodeAt(++e.position);while(!Ae(p)&&p!==0)}for(;p!==0;){for(Nn(e),e.lineIndent=0,p=e.input.charCodeAt(e.position);(!a||e.lineIndent<o)&&p===32;)e.lineIndent++,p=e.input.charCodeAt(++e.position);if(!a&&e.lineIndent>o&&(o=e.lineIndent),Ae(p)){l++;continue}if(e.lineIndent<o){r===yr?e.result+=me.repeat(`
`,s?1+l:l):r===kn&&s&&(e.result+=`
`);break}for(i?Je(p)?(u=!0,e.result+=me.repeat(`
`,s?1+l:l)):u?(u=!1,e.result+=me.repeat(`
`,l+1)):l===0?s&&(e.result+=" "):e.result+=me.repeat(`
`,l):e.result+=me.repeat(`
`,s?1+l:l),s=!0,a=!0,l=0,n=e.position;!Ae(p)&&p!==0;)p=e.input.charCodeAt(++e.position);ze(e,n,e.position,!1)}return!0}function Lr(e,t){var n,i=e.tag,r=e.anchor,s=[],a,o=!1,l;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),l=e.input.charCodeAt(e.position);l!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,L(e,"tab characters must not be used in indentation")),!(l!==45||(a=e.input.charCodeAt(e.position+1),!be(a))));){if(o=!0,e.position++,ne(e,!0,-1)&&e.lineIndent<=t){s.push(null),l=e.input.charCodeAt(e.position);continue}if(n=e.line,lt(e,t,br,!1,!0),s.push(e.result),ne(e,!0,-1),l=e.input.charCodeAt(e.position),(e.line===n||e.lineIndent>t)&&l!==0)L(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return o?(e.tag=i,e.anchor=r,e.kind="sequence",e.result=s,!0):!1}function Ca(e,t,n){var i,r,s,a,o,l,u=e.tag,f=e.anchor,p={},g=Object.create(null),h=null,v=null,m=null,E=!1,y=!1,x;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=p),x=e.input.charCodeAt(e.position);x!==0;){if(!E&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,L(e,"tab characters must not be used in indentation")),i=e.input.charCodeAt(e.position+1),s=e.line,(x===63||x===58)&&be(i))x===63?(E&&(ct(e,p,g,h,v,null,a,o,l),h=v=m=null),y=!0,E=!0,r=!0):E?(E=!1,r=!0):L(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,x=i;else{if(a=e.line,o=e.lineStart,l=e.position,!lt(e,n,vr,!1,!0))break;if(e.line===s){for(x=e.input.charCodeAt(e.position);Je(x);)x=e.input.charCodeAt(++e.position);if(x===58)x=e.input.charCodeAt(++e.position),be(x)||L(e,"a whitespace character is expected after the key-value separator within a block mapping"),E&&(ct(e,p,g,h,v,null,a,o,l),h=v=m=null),y=!0,E=!1,r=!1,h=e.tag,v=e.result;else if(y)L(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=u,e.anchor=f,!0}else if(y)L(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=u,e.anchor=f,!0}if((e.line===s||e.lineIndent>t)&&(E&&(a=e.line,o=e.lineStart,l=e.position),lt(e,t,Ht,!0,r)&&(E?v=e.result:m=e.result),E||(ct(e,p,g,h,v,m,a,o,l),h=v=m=null),ne(e,!0,-1),x=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&x!==0)L(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return E&&ct(e,p,g,h,v,null,a,o,l),y&&(e.tag=u,e.anchor=f,e.kind="mapping",e.result=p),y}function wa(e){var t,n=!1,i=!1,r,s,a;if(a=e.input.charCodeAt(e.position),a!==33)return!1;if(e.tag!==null&&L(e,"duplication of a tag property"),a=e.input.charCodeAt(++e.position),a===60?(n=!0,a=e.input.charCodeAt(++e.position)):a===33?(i=!0,r="!!",a=e.input.charCodeAt(++e.position)):r="!",t=e.position,n){do a=e.input.charCodeAt(++e.position);while(a!==0&&a!==62);e.position<e.length?(s=e.input.slice(t,e.position),a=e.input.charCodeAt(++e.position)):L(e,"unexpected end of the stream within a verbatim tag")}else{for(;a!==0&&!be(a);)a===33&&(i?L(e,"tag suffix cannot contain exclamation marks"):(r=e.input.slice(t-1,e.position+1),xr.test(r)||L(e,"named tag handle cannot contain such characters"),i=!0,t=e.position+1)),a=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),ha.test(s)&&L(e,"tag suffix cannot contain flow indicator characters")}s&&!Sr.test(s)&&L(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{L(e,"tag name is malformed: "+s)}return n?e.tag=s:Ue.call(e.tagMap,r)?e.tag=e.tagMap[r]+s:r==="!"?e.tag="!"+s:r==="!!"?e.tag="tag:yaml.org,2002:"+s:L(e,'undeclared tag handle "'+r+'"'),!0}function Aa(e){var t,n;if(n=e.input.charCodeAt(e.position),n!==38)return!1;for(e.anchor!==null&&L(e,"duplication of an anchor property"),n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!be(n)&&!at(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&L(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function Oa(e){var t,n,i;if(i=e.input.charCodeAt(e.position),i!==42)return!1;for(i=e.input.charCodeAt(++e.position),t=e.position;i!==0&&!be(i)&&!at(i);)i=e.input.charCodeAt(++e.position);return e.position===t&&L(e,"name of an alias node must contain at least one character"),n=e.input.slice(t,e.position),Ue.call(e.anchorMap,n)||L(e,'unidentified alias "'+n+'"'),e.result=e.anchorMap[n],ne(e,!0,-1),!0}function lt(e,t,n,i,r){var s,a,o,l=1,u=!1,f=!1,p,g,h,v,m,E;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=a=o=Ht===n||br===n,i&&ne(e,!0,-1)&&(u=!0,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)),l===1)for(;wa(e)||Aa(e);)ne(e,!0,-1)?(u=!0,o=s,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)):o=!1;if(o&&(o=u||r),(l===1||Ht===n)&&(Ft===n||vr===n?m=t:m=t+1,E=e.position-e.lineStart,l===1?o&&(Lr(e,E)||Ca(e,E,m))||ka(e,m)?f=!0:(a&&Na(e,m)||Sa(e,m)||Ea(e,m)?f=!0:Oa(e)?(f=!0,(e.tag!==null||e.anchor!==null)&&L(e,"alias node should not have any properties")):xa(e,m,Ft===n)&&(f=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):l===0&&(f=o&&Lr(e,E))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&L(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),p=0,g=e.implicitTypes.length;p<g;p+=1)if(v=e.implicitTypes[p],v.resolve(e.result)){e.result=v.construct(e.result),e.tag=v.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Ue.call(e.typeMap[e.kind||"fallback"],e.tag))v=e.typeMap[e.kind||"fallback"][e.tag];else for(v=null,h=e.typeMap.multi[e.kind||"fallback"],p=0,g=h.length;p<g;p+=1)if(e.tag.slice(0,h[p].tag.length)===h[p].tag){v=h[p];break}v||L(e,"unknown tag !<"+e.tag+">"),e.result!==null&&v.kind!==e.kind&&L(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+v.kind+'", not "'+e.kind+'"'),v.resolve(e.result,e.tag)?(e.result=v.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):L(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||f}function Ta(e){var t=e.position,n,i,r,s=!1,a;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(a=e.input.charCodeAt(e.position))!==0&&(ne(e,!0,-1),a=e.input.charCodeAt(e.position),!(e.lineIndent>0||a!==37));){for(s=!0,a=e.input.charCodeAt(++e.position),n=e.position;a!==0&&!be(a);)a=e.input.charCodeAt(++e.position);for(i=e.input.slice(n,e.position),r=[],i.length<1&&L(e,"directive name must not be less than one character in length");a!==0;){for(;Je(a);)a=e.input.charCodeAt(++e.position);if(a===35){do a=e.input.charCodeAt(++e.position);while(a!==0&&!Ae(a));break}if(Ae(a))break;for(n=e.position;a!==0&&!be(a);)a=e.input.charCodeAt(++e.position);r.push(e.input.slice(n,e.position))}a!==0&&Nn(e),Ue.call(Or,i)?Or[i](e,i,r):Ut(e,'unknown document directive "'+i+'"')}if(ne(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,ne(e,!0,-1)):s&&L(e,"directives end mark is expected"),lt(e,e.lineIndent-1,Ht,!1,!0),ne(e,!0,-1),e.checkLineBreaks&&fa.test(e.input.slice(t,e.position))&&Ut(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&zt(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,ne(e,!0,-1));return}if(e.position<e.length-1)L(e,"end of the stream or a document separator is expected");else return}function La(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var n=new ya(e,t),i=e.indexOf("\0");for(i!==-1&&(n.position=i,L(n,"null byte is not allowed in input")),n.input+="\0";n.input.charCodeAt(n.position)===32;)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)Ta(n);return n.documents}function _a(e,t){var n=La(e,t);if(n.length!==0){if(n.length===1)return n[0];throw new Be("expected a single document in the stream, but found more")}}var Ia=_a,Ma={load:Ia},Ra=Ma.load;const Ba=50,$a=200;function ja(e){const t=qa(e.info||{}),n=Pa(e.servers||[]),i=e.components||{},r=Ha(i.schemas||{},e),s=Da(i.securitySchemes||{}),a=kt(e.security),o=e.paths||{},l={};for(const[g,h]of Object.entries(o))g.startsWith("/docs")||(l[g]=h);const u=Ua(l,e,a,s),f=Ga(u,e.tags||[]),p=za(e.webhooks||{},e,a,s);return{raw:e,info:t,servers:n,tags:f,operations:u,schemas:r,securitySchemes:s,webhooks:p}}function qa(e){return{title:String(e.title||"API"),description:e.description?String(e.description):void 0,version:String(e.version||"1.0.0"),contact:e.contact,license:e.license}}function Pa(e){return e.map(t=>({url:String(t.url||"/"),description:t.description?String(t.description):void 0,variables:t.variables}))}function Da(e){const t={};for(const[n,i]of Object.entries(e)){const r=i;t[n]={type:String(r.type||""),scheme:r.scheme?String(r.scheme):void 0,bearerFormat:r.bearerFormat?String(r.bearerFormat):void 0,description:r.description?String(r.description):void 0,in:r.in?String(r.in):void 0,name:r.name?String(r.name):void 0,openIdConnectUrl:r.openIdConnectUrl?String(r.openIdConnectUrl):void 0,flows:r.flows&&typeof r.flows=="object"?r.flows:void 0}}return t}const Ct=new Map;let wn=0;function Fa(e,t){if(Ct.has(e))return Ct.get(e);if(++wn>$a)return{type:"object",description:"[Circular reference]"};const n=e.replace(/^#\//,"").split("/").map(r=>decodeURIComponent(r.replace(/~1/g,"/").replace(/~0/g,"~")));let i=t;for(const r of n)if(i&&typeof i=="object"&&!Array.isArray(i))i=i[r];else return;return Ct.set(e,i),i}function ge(e,t,n=0,i=new Set){if(n>Ba||!e||typeof e!="object")return e;if(Array.isArray(e))return e.map(a=>ge(a,t,n+1,i));const r=e;if(typeof r.$ref=="string"){const a=r.$ref;if(i.has(a))return{type:"object",description:"[Circular reference]"};const o=new Set(i);o.add(a);const l=Fa(a,t);return l&&typeof l=="object"?ge(l,t,n+1,o):l}const s={};for(const[a,o]of Object.entries(r))s[a]=ge(o,t,n+1,i);return s}function Ha(e,t){Ct.clear(),wn=0;const n={};for(const[i,r]of Object.entries(e))n[i]=ge(r,t);return n}function Ua(e,t,n,i){Ct.clear(),wn=0;const r=[],s=["get","post","put","patch","delete","head","options","trace"];for(const[a,o]of Object.entries(e)){if(!o||typeof o!="object")continue;const l=kt(o.security),u=Array.isArray(o.parameters)?o.parameters.map(f=>ge(f,t)):[];for(const f of s){const p=o[f];if(!p)continue;const g=_r(f,a,p,u,t,l,n,i);r.push(g)}}return r}function _r(e,t,n,i,r,s=void 0,a=void 0,o={}){const l=Array.isArray(n.parameters)?n.parameters.map(I=>ge(I,r)):[],u=[...i];for(const I of l){const D=u.findIndex(_=>_.name===I.name&&_.in===I.in);D>=0?u[D]=I:u.push(I)}const f=Ir(u,r);let p=Mr(n.requestBody,r);if(Array.isArray(n["x-doc-examples"])){const I=n["x-doc-examples"],D=[];for(let _=0;_<I.length;_++){const j=I[_],W=j.scenario?String(j.scenario):`Example ${_+1}`,z=j.request?.body;z!==void 0&&D.push({summary:W,value:z})}if(D.length>0){p||(p={required:!1,content:{}});const _=p.content["application/json"]||p.content["application/vnd.api+json"]||{};p.content["application/json"]||(p.content["application/json"]=_);const j=p.content["application/json"];j.examples||(j.examples={});for(let W=0;W<D.length;W++){const X=D[W],xe=`${X.summary.replace(/[^a-zA-Z0-9\u0430-\u044f\u0410-\u042f\u0451\u0401]/g,"-").replace(/-+/g,"-").slice(0,40)||"ex"}-${W}`.replace(/^-/,"");j.examples[xe]={summary:X.summary,description:X.summary,value:X.value}}}}const g=Rr(n.responses,r),h=Array.isArray(n.tags)?n.tags.map(String):["default"],v=String(n.operationId||`${e}_${t.replace(/[^a-zA-Z0-9]/g,"_")}`),m=Object.prototype.hasOwnProperty.call(n,"security"),E=kt(n.security),y=m?E:s??a,x=m&&Array.isArray(E)&&E.length===0,$=Ka(n.callbacks,r,o),O={operationId:v,method:e,path:t,summary:n.summary?String(n.summary):void 0,description:n.description?String(n.description):void 0,tags:h,deprecated:!!n.deprecated,security:y,resolvedSecurity:vn(y,o,x),parameters:f,requestBody:p,responses:g};return $.length>0&&(O.callbacks=$),O}function za(e,t,n,i){if(!e||typeof e!="object")return[];const r=[],s=["get","post","put","patch","delete","head","options","trace"];for(const[a,o]of Object.entries(e)){if(!o||typeof o!="object")continue;const l=ge(o,t),u=kt(l.security);for(const f of s){const p=l[f];if(!p)continue;const g=Object.prototype.hasOwnProperty.call(p,"security"),h=kt(p.security),v=g?h:u??n,m=g&&Array.isArray(h)&&h.length===0,E=Array.isArray(p.parameters)?p.parameters.map(O=>ge(O,t)):[],y=Ir(E,t),x=Mr(p.requestBody,t),$=Rr(p.responses,t);r.push({name:a,method:f,path:a,summary:p.summary?String(p.summary):void 0,description:p.description?String(p.description):void 0,security:v,resolvedSecurity:vn(v,i,m),parameters:y,requestBody:x,responses:$})}}return r}function Ir(e,t){return e.map(n=>({name:String(n.name||""),in:String(n.in||"query"),required:!!n.required,description:n.description?String(n.description):void 0,schema:n.schema?ge(n.schema,t):void 0,example:n.example,examples:n.examples?$r(n.examples):void 0,deprecated:!!n.deprecated}))}function Mr(e,t){if(!e)return;const n=ge(e,t);return{description:n.description?String(n.description):void 0,required:!!n.required,content:Br(n.content||{},t)}}function Wa(e,t){const n={};if(!e||typeof e!="object")return n;for(const[i,r]of Object.entries(e)){if(!r||typeof r!="object")continue;const s=ge(r,t),a=s.schema,o=s.example??(a&&typeof a=="object"?a.example:void 0);n[i]={description:s.description?String(s.description):void 0,required:!!s.required,schema:a&&typeof a=="object"?ge(a,t):void 0,example:o!==void 0?o:void 0,deprecated:!!s.deprecated}}return n}function Rr(e,t){const n={};if(!e||typeof e!="object")return n;for(const[i,r]of Object.entries(e)){const s=ge(r,t),a=s.headers;n[i]={statusCode:i,description:s.description?String(s.description):void 0,headers:a?Wa(a,t):void 0,content:s.content?Br(s.content,t):void 0}}return n}function Ka(e,t,n){if(!e||typeof e!="object")return[];const i=[],r=["get","post","put","patch","delete","head","options","trace"];for(const[s,a]of Object.entries(e)){const o=ge(a,t);if(!o||typeof o!="object")continue;const l=[];for(const[u,f]of Object.entries(o))if(!(!f||typeof f!="object"))for(const p of r){const g=f[p];g&&l.push(_r(p,u,g,[],t,void 0,void 0,n))}l.length>0&&i.push({name:s,operations:l})}return i}function Br(e,t){const n={};for(const[i,r]of Object.entries(e)){const s=r;n[i]={schema:s.schema?ge(s.schema,t):void 0,example:s.example,examples:s.examples?$r(s.examples):void 0}}return n}function $r(e){const t={};for(const[n,i]of Object.entries(e)){const r=i;t[n]={summary:r.summary?String(r.summary):void 0,description:r.description?String(r.description):void 0,value:r.value}}return t}function Ga(e,t){const n=new Map,i=new Map;for(const a of t)i.set(String(a.name),String(a.description||""));for(const a of e)for(const o of a.tags)n.has(o)||n.set(o,[]),n.get(o).push(a);const r=[],s=new Set;for(const a of t){const o=String(a.name);s.has(o)||(s.add(o),r.push({name:o,description:i.get(o),operations:n.get(o)||[]}))}for(const[a,o]of n)s.has(a)||(s.add(a),r.push({name:a,description:i.get(a),operations:o}));return r}function Xe(e){if(e){if(e.example!==void 0)return e.example;if(e.default!==void 0)return e.default;if(e.enum&&e.enum.length>0)return e.enum[0];switch(e.type){case"string":return e.format==="date-time"?"2025-01-15T10:30:00Z":e.format==="date"?"2025-01-15":e.format==="email"?"user@example.com":e.format==="uri"||e.format==="url"?"https://example.com":e.format==="uuid"?"550e8400-e29b-41d4-a716-446655440000":e.format==="password"?"********":"string";case"number":case"integer":return e.minimum!==void 0?e.minimum:(e.type==="integer",0);case"boolean":return!0;case"array":if(e.items){const t=Xe(e.items);return t!==void 0?[t]:[]}return[];case"object":{const t={};if(e.properties)for(const[n,i]of Object.entries(e.properties))t[n]=Xe(i);return t}default:if(e.allOf&&e.allOf.length>0){const t={};for(const n of e.allOf){const i=Xe(n);i&&typeof i=="object"&&!Array.isArray(i)&&Object.assign(t,i)}return Object.keys(t).length>0?t:void 0}if(e.oneOf&&e.oneOf.length>0)return Xe(e.oneOf[0]);if(e.anyOf&&e.anyOf.length>0)return Xe(e.anyOf[0]);if(e.properties){const t={};for(const[n,i]of Object.entries(e.properties))t[n]=Xe(i);return t}return}}}async function Ya(e){const t=await fetch(e);if(!t.ok)throw new Error(`Failed to load spec: ${t.status} ${t.statusText}`);const n=await t.text();try{return JSON.parse(n)}catch{try{return Ra(n)}catch{throw new Error("Failed to parse spec as JSON or YAML")}}}let ut=[];const jr={operation:0,tag:1,schema:2,webhook:3};function Va(e){ut=[];for(const t of e.tags)ut.push({type:"tag",title:t.name,subtitle:t.description,tag:t.name,keywords:`${t.name} ${t.description||""}`.toLowerCase()});for(const t of e.operations)ut.push({type:"operation",title:t.summary||t.operationId,subtitle:t.path,method:t.method,requiresAuth:le(t.resolvedSecurity),authBadge:ur(t.resolvedSecurity)||void 0,authTitle:le(t.resolvedSecurity)?st(t.resolvedSecurity):void 0,resolvedSecurity:t.resolvedSecurity,path:t.path,tag:t.tags[0],operationId:t.operationId,keywords:`${t.method} ${t.path} ${t.summary||""} ${t.description||""} ${t.operationId} ${t.tags.join(" ")}`.toLowerCase()});for(const[t,n]of Object.entries(e.schemas))ut.push({type:"schema",title:t,subtitle:n.description||"Schema",schemaName:t,keywords:`${t} ${n.description||""} schema model`.toLowerCase()});if(e.webhooks)for(const t of e.webhooks)ut.push({type:"webhook",title:t.summary||t.name,subtitle:`${t.method.toUpperCase()} Webhook`,method:t.method,webhookName:t.name,keywords:`${t.name} ${t.method} ${t.summary||""} ${t.description||""} webhook`.toLowerCase()})}function Ja(e,t=20){if(!e.trim())return[];const n=e.toLowerCase().trim().split(/\s+/),i=[];for(const r of ut){let s=0,a=!0;for(const o of n)r.keywords.includes(o)?(s+=1,r.title.toLowerCase().includes(o)&&(s+=3),r.path?.toLowerCase().includes(o)&&(s+=2),r.method?.toLowerCase()===o&&(s+=2)):a=!1;a&&s>0&&i.push({entry:r,score:s})}return i.sort((r,s)=>{const a=jr[r.entry.type]??99,o=jr[s.entry.type]??99;return a!==o?a-o:s.score!==r.score?s.score-r.score:r.entry.title.localeCompare(s.entry.title)}).slice(0,t).map(r=>r.entry)}const qr="puredocs-theme";function Pr(e,t,n){e.classList.remove("light","dark"),e.classList.add(`${t}`),n?.primaryColor?e.style.setProperty("--primary-color",n.primaryColor):e.style.removeProperty("--primary-color")}function Xa(){const t=k.get().theme==="light"?"dark":"light";k.set({theme:t});try{localStorage.setItem(qr,t)}catch{}}function Za(e){if(e&&e!=="auto")return e;try{const t=localStorage.getItem(qr);if(t==="light"||t==="dark")return t}catch{}return window.matchMedia?.("(prefers-color-scheme: dark)").matches?"dark":"light"}function Dr(e){const t=e.trim();return t.startsWith("{")&&t.endsWith("}")||t.startsWith("[")&&t.endsWith("]")}function Fr(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function c(e,t,...n){const i=document.createElement(e);if(t)for(const[r,s]of Object.entries(t))s===void 0||s===!1||(r.startsWith("on")&&typeof s=="function"?i.addEventListener(r.slice(2).toLowerCase(),s):r==="className"?i.className=String(s):r==="innerHTML"?i.innerHTML=String(s):r==="textContent"?i.textContent=String(s):s===!0?i.setAttribute(r,""):i.setAttribute(r,String(s)));for(const r of n)r==null||r===!1||(typeof r=="string"?i.appendChild(document.createTextNode(r)):i.appendChild(r));return i}function fe(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function wt(e,...t){fe(e);for(const n of t)n==null||n===!1||(typeof n=="string"?e.appendChild(document.createTextNode(n)):e.appendChild(n))}async function Qa(e){try{return await navigator.clipboard.writeText(e),!0}catch{const t=document.createElement("textarea");t.value=e,t.style.cssText="position:fixed;left:-9999px",document.body.appendChild(t),t.select();const n=document.execCommand("copy");return document.body.removeChild(t),n}}function eo(e){if(e===0)return"0 B";const t=1024,n=["B","KB","MB"],i=Math.floor(Math.log(e)/Math.log(t));return`${(e/t**i).toFixed(i>0?1:0)} ${n[i]}`}function to(e){return e<1e3?`${Math.round(e)} ms`:`${(e/1e3).toFixed(2)} s`}const oe=(e,t)=>`<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="${1.75}" stroke-linecap="round" stroke-linejoin="round">${e}</svg>`,H={search:oe('<circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/>'),close:oe('<path d="M18 6 6 18"/><path d="m6 6 12 12"/>'),plus:oe('<path d="M5 12h14"/><path d="M12 5v14"/>'),chevronDown:oe('<path d="m6 9 6 6 6-6"/>'),chevronRight:oe('<path d="m9 18 6-6-6-6"/>'),chevronLeft:oe('<path d="m15 18-6-6 6-6"/>'),sun:oe('<circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/>'),moon:oe('<path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/>'),copy:oe('<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>'),check:oe('<path d="M20 6 9 17l-5-5"/>'),lock:oe('<rect width="14" height="11" x="5" y="11" rx="2" ry="2"/><path d="M8 11V7a4 4 0 1 1 8 0v4"/>'),unlock:oe('<rect width="14" height="11" x="5" y="11" rx="2" ry="2"/><path d="M16 11V7a4 4 0 1 0-8 0v1"/>'),send:oe('<path d="m22 2-7 20-4-9-9-4Z"/><path d="m22 2-11 11"/>'),key:oe('<path d="m21 2-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0 3 3L22 7l-3-3m-3.5 3.5L19 4"/>'),globe:oe('<circle cx="12" cy="12" r="10"/><path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"/><path d="M2 12h20"/>'),server:oe('<rect width="20" height="8" x="2" y="2" rx="2" ry="2"/><rect width="20" height="8" x="2" y="14" rx="2" ry="2"/><line x1="6" x2="6.01" y1="6" y2="6"/><line x1="6" x2="6.01" y1="18" y2="18"/>'),warning:oe('<path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><path d="M12 9v4"/><path d="M12 17h.01"/>'),settings:oe('<path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"/><circle cx="12" cy="12" r="3"/>')};function no(e){return e.environments.find(t=>t.name===e.activeEnvironment)||e.environments[0]}function Wt(e){return no(e)?.baseUrl||e.spec?.servers[0]?.url||window.location.origin}function An(e){return String(e||"").replace(/\/$/,"")}function Kt(e){return An(e).replace(/^https?:\/\//i,"")}function ro(e){return An(Wt(e))}function Hr(e){return Kt(Wt(e))}function Gt(e){const{options:t,value:n,ariaLabel:i,onChange:r,className:s,variant:a="default",invalid:o,dataAttrs:l}=e,u=document.createElement("select");a==="inline"&&u.setAttribute("data-variant","inline");const f=[];if(o&&f.push("invalid"),s&&f.push(s),u.className=f.join(" "),i&&u.setAttribute("aria-label",i),l)for(const[p,g]of Object.entries(l))u.dataset[p]=g;for(const p of t){const g=document.createElement("option");g.value=p.value,g.textContent=p.label,n!==void 0&&p.value===n&&(g.selected=!0),u.appendChild(g)}return r&&u.addEventListener("change",()=>r(u.value)),u}function We(e){const{type:t="text",placeholder:n,value:i,ariaLabel:r,required:s,readOnly:a,invalid:o,modifiers:l,dataAttrs:u,className:f,onInput:p,onChange:g}=e,h=document.createElement("input");h.type=t;const v=[];if(l?.includes("filled")&&v.push("filled"),o&&v.push("invalid"),f&&v.push(f),h.className=v.join(" "),n&&(h.placeholder=n),i!==void 0&&(h.value=i),r&&h.setAttribute("aria-label",r),s&&(h.required=!0),a&&(h.readOnly=!0),u)for(const[m,E]of Object.entries(u))h.dataset[m]=E;return p&&h.addEventListener("input",()=>p(h.value)),g&&h.addEventListener("change",()=>g(h.value)),h}const io={primary:["primary","m"],secondary:["secondary","m"],ghost:["s","u-text-muted"],icon:["icon","m","u-text-muted"]};function so(e="secondary"){return["btn",...io[e]]}function Oe(e){const{variant:t="secondary",label:n,icon:i,ariaLabel:r,disabled:s,className:a,onClick:o}=e,l=document.createElement("button");l.type="button";const u=so(t);if(a&&u.push(...a.split(/\s+/).filter(Boolean)),l.className=u.join(" "),i){const f=document.createElement("span");f.className="btn-icon-slot",f.innerHTML=i,l.appendChild(f)}if(n){const f=document.createElement("span");f.textContent=n,l.appendChild(f)}return r&&l.setAttribute("aria-label",r),s&&(l.disabled=!0),o&&l.addEventListener("click",o),l}function Ur(e){return e==="default"||e==="transparent"?"u-text-muted":`u-text-${e}`}function On(e){return e==="default"?"u-bg-surface-hover":e==="transparent"?"u-bg-transparent":`u-bg-${e}-soft`}function ao(e){const t=e.toLowerCase();return t==="get"?"green":t==="post"?"blue":t==="put"||t==="patch"?"orange":t==="delete"?"red":"default"}function zr(e){const t=e.trim();return t.startsWith("2")?"green":t.startsWith("3")?"blue":t.startsWith("4")?"orange":t.startsWith("5")?"red":"default"}function oo(e,t){return e.color?e.color:t==="method"?ao(e.method||e.text):t==="status"?zr(e.statusCode||e.text):t==="webhook"?"purple":t==="required"?"orange":"default"}function R(e){const t=document.createElement("span"),n=e.kind||"chip",i=oo(e,n),s=["badge",e.size||"m"];return n==="status"&&s.push("status"),n==="required"&&s.push("required"),s.push(Ur(i),On(i)),e.className&&s.push(e.className),t.className=s.join(" "),t.textContent=e.text,t}function Yt(e,t){const n=t?.active??!1,i=t?.context??!1,r=document.createElement("button");return r.type="button",r.className=`badge m interactive${n?" is-active":""}`,i&&(r.dataset.badgeContext="true"),r.textContent=e,r}function co(e,t=!1){const n=document.createElement("button");n.type="button";const i=zr(e),r=["badge","status","m","interactive",Ur(i)];return t&&r.push("is-active",On(i)),n.className=r.join(" "),n.dataset.badgeGroup="response-code",n.dataset.badgeColor=i,n.textContent=e,n}function Wr(e,t){if(e.classList.remove("u-bg-surface-hover","u-bg-transparent","u-bg-green-soft","u-bg-blue-soft","u-bg-orange-soft","u-bg-purple-soft","u-bg-red-soft"),e.classList.toggle("is-active",t),!t)return;const n=e.dataset.badgeColor||"default";e.classList.add(On(n))}function $e(e){const{simple:t,interactive:n,active:i,className:r,onClick:s}=e||{},a=document.createElement("div"),o=["card"];return t&&o.push("simple"),n&&o.push("interactive"),i&&o.push("active"),r&&o.push(r),a.className=o.join(" "),s&&(a.classList.contains("interactive")||a.classList.add("interactive"),a.addEventListener("click",s)),a}function Tn(...e){const t=document.createElement("div");t.className="card-head";for(const n of e)if(typeof n=="string"){const i=document.createElement("span");i.textContent=n,t.append(i)}else t.append(n);return t}function Vt(e){const t=document.createElement("div"),n=["card-content"];return n.push("flush"),t.className=n.join(" "),t}function Kr(e){if(typeof e=="string"||typeof e=="number"){const t=document.createElement("span");return t.textContent=String(e),t}return e}function Ln(e){const t=document.createElement("div");if(t.className=`card-row${e.className?` ${e.className}`:""}`,e.leading!==void 0&&t.append(Kr(e.leading)),t.append(typeof e.title=="string"?Object.assign(document.createElement("h3"),{textContent:e.title}):e.title),e.trailing!==void 0){const n=typeof e.trailing=="string"||typeof e.trailing=="number"?R({text:String(e.trailing),kind:"chip",size:"m"}):Kr(e.trailing);t.append(n)}return t}function lo(e){return typeof e=="string"?c("span",{textContent:e}):e}function Gr(e){return c("h2",{textContent:e})}function _n(e,t){const n=c("div",{className:"section-head"});return n.append(typeof e=="string"?Gr(e):e),t!==void 0&&n.append(typeof t=="string"||typeof t=="number"?R({text:String(t),kind:"chip",size:"m"}):t),n}function ve(e,...t){const n=c("div",{className:`block section${e.className?` ${e.className}`:""}`});e.titleEl?n.append(e.titleEl):e.title&&(e.badge!==void 0?n.append(_n(e.title,e.badge)):n.append(Gr(e.title)));for(const i of t)n.append(lo(i));return n}function In(e,t){const n=c("nav",{className:`breadcrumb${t?.className?` ${t.className}`:""}`,"aria-label":"Breadcrumb"}),i=c("div",{className:"breadcrumb-main"});return t?.leading?.length&&i.append(...t.leading),e.forEach((r,s)=>{if(s>0&&i.append(c("span",{className:"breadcrumb-sep",textContent:"/"})),r.href||r.onClick){const a=c("a",{className:`breadcrumb-item${r.className?` ${r.className}`:""}`,href:r.href||"#",textContent:r.label});r.onClick&&a.addEventListener("click",r.onClick),i.append(a);return}i.append(c("span",{className:r.className||"breadcrumb-segment",textContent:r.label}))}),n.append(i),t?.trailing?.length&&n.append(c("div",{className:"breadcrumb-trailing"},...t.trailing)),n}function Mn(e){const{configured:t,variant:n="tag",title:i}=e,r=t?H.unlock:H.lock,s=n==="tag"?"tag-op-lock":n==="nav"?"nav-item-lock":"endpoint-meta-icon",a=n!=="endpoint"?` ${s}--${t?"configured":"required"}`:"";return c("span",{className:`${s}${a}`.trim(),innerHTML:r,...i?{title:i,"aria-label":i}:{}})}function Yr(e){const t=c("div",{className:e.overlayClass});t.setAttribute(e.dataOverlayAttr,"true");const n=c("div",{className:e.modalClass,role:e.role||"dialog","aria-label":e.ariaLabel,"aria-modal":"true"});t.append(n);let i=!1;const r=()=>{i||(i=!0,t.remove(),e.onClose?.())};return t.addEventListener("click",s=>{s.target===t&&r()}),t.addEventListener("keydown",s=>{s.key==="Escape"&&(s.preventDefault(),r())},!0),{overlay:t,modal:n,mount:s=>{(s||document.querySelector(".root")||document.body).appendChild(t)},close:r}}let dt=null;function Rn(){dt&&dt.close(),dt=null}function uo(e){if(e.type==="http"){const t=(e.scheme||"").toLowerCase();return t==="bearer"?"Bearer Token":t==="basic"?"Basic Auth":`HTTP ${e.scheme||""}`}return e.type==="apiKey"?`API Key (${e.in==="header"?"Header":e.in==="query"?"Query":e.in==="cookie"?"Cookie":""}: ${e.name||"?"})`:e.type==="oauth2"?"OAuth 2.0":e.type==="openIdConnect"?"OpenID Connect":e.type}function po(e){return bn(e)}function Jt(e){requestAnimationFrame(()=>e.focus())}function Bn(e,t){const n=c("div",{className:"modal field"});return n.append(c("label",{className:"modal label",textContent:e}),t),n}function At(e){return We({className:"modal input",placeholder:e.placeholder,value:e.value,ariaLabel:e.ariaLabel,type:e.type})}function fo(e){if(!e)return{username:"",password:""};try{const t=atob(e).split(":");return{username:t[0]||"",password:t.slice(1).join(":")||""}}catch{return{username:"",password:""}}}function $n(e,t,n){fe(n);const i=k.get().auth.schemes[e]||"",r=t.type,s=(t.scheme||"").toLowerCase();if(r==="http"&&s==="bearer"){const a=c("div",{className:"modal field"}),o=c("div",{className:"modal input-wrap"}),l=At({placeholder:"Bearer token...",value:i,ariaLabel:"Bearer token",type:"password"}),u=Oe({variant:"icon",icon:H.key,ariaLabel:"Показать/скрыть",className:"l secondary u-text-muted",onClick:()=>{l.type=l.type==="password"?"text":"password"}});l.addEventListener("input",()=>k.setSchemeValue(e,l.value)),o.append(l,u),a.append(c("label",{className:"modal label",textContent:"Token"}),o),n.append(a),Jt(l)}else if(r==="http"&&s==="basic"){const a=fo(i),o=At({placeholder:"Username",value:a.username,ariaLabel:"Username"});n.append(Bn("Username",o));const l=At({placeholder:"Password",value:a.password,ariaLabel:"Password",type:"password"});n.append(Bn("Password",l));const u=()=>{const f=btoa(`${o.value}:${l.value}`);k.setSchemeValue(e,f)};o.addEventListener("input",u),l.addEventListener("input",u),Jt(o)}else if(r==="apiKey"){const a=c("div",{className:"modal field"}),o=c("div",{className:"modal input-wrap"}),l=At({placeholder:`${t.name||"API key"}...`,value:i,ariaLabel:"API key",type:"password"}),u=Oe({variant:"icon",icon:H.key,ariaLabel:"Показать/скрыть",className:"l secondary u-text-muted",onClick:()=>{l.type=l.type==="password"?"text":"password"}});l.addEventListener("input",()=>{k.setSchemeValue(e,l.value)}),o.append(l,u),a.append(c("label",{className:"modal label",textContent:`API Key (${t.name||"key"})`}),o),n.append(a),Jt(l)}else{const a=At({placeholder:"Token...",value:i,ariaLabel:"Token",type:"password"});a.addEventListener("input",()=>{k.setSchemeValue(e,a.value)}),n.append(Bn("Token / Credential",a)),Jt(a)}}function Vr(e,t,n){dt&&Rn();const i=Object.entries(e);if(i.length===0)return;const r=Yr({overlayClass:"modal overlay",modalClass:"modal container",ariaLabel:"Настройка аутентификации",dataOverlayAttr:"data-auth-overlay",onClose:()=>{dt=null}});dt=r;const s=r.modal,a=c("div",{className:"modal header"});a.append(c("h2",{className:"modal title",textContent:"Authentication"}));const o=Oe({variant:"icon",icon:H.close,ariaLabel:"Закрыть",onClick:Rn});a.append(o),s.append(a);const l=c("div",{className:"modal body"});let u=n||k.get().auth.activeScheme||i[0][0];e[u]||(u=i[0][0]);const f=c("div",{className:"modal fields"});if(i.length>1){const y=c("div",{className:"modal tabs"}),x=[];for(const[$,O]of i){const I=!!k.get().auth.schemes[$],D=c("button",{type:"button",className:"modal tab","aria-pressed":$===u?"true":"false"}),_=c("span",{className:"modal tab-label",textContent:po(O)});if(D.append(_),I){const j=c("span",{className:"modal tab-dot","data-configured":"true"});D.append(j)}D.addEventListener("click",()=>{if(u!==$){u=$;for(const j of x)j.setAttribute("aria-pressed","false");D.setAttribute("aria-pressed","true"),g(),$n($,O,f)}}),x.push(D),y.append(D)}l.append(y)}const p=c("div",{className:"modal scheme-desc"});function g(){const y=e[u];if(!y)return;fe(p);const x=c("div",{className:"modal scheme-title",textContent:uo(y)});p.append(x),y.description&&p.append(c("div",{className:"modal scheme-text",textContent:y.description}))}g(),l.append(p);const h=e[u];h&&$n(u,h,f),l.append(f),s.append(l);const v=c("div",{className:"modal footer"}),m=Oe({variant:"ghost",label:"Сбросить",onClick:()=>{k.setSchemeValue(u,"");const y=e[u];y&&$n(u,y,f)}}),E=Oe({variant:"primary",label:"Готово",onClick:Rn});v.append(m,c("div",{className:"grow"}),E),s.append(v),r.mount(t??document.querySelector(".root")??document.body)}function Xt(e){return!!k.get().auth.schemes[e]}function jn(e,t){const n=Ot(e,t),i=k.get().auth,r=Dt(n,i.schemes,i.activeScheme,i.token);return Object.keys(r.headers).length>0||Object.keys(r.query).length>0||Object.keys(r.cookies).length>0}function qn(e,t){const n=Ot(e,t),i=k.get().auth;return Dt(n,i.schemes,i.activeScheme,i.token).headers}function ho(e,t){const n=Ot(e,t),i=k.get().auth;return Dt(n,i.schemes,i.activeScheme,i.token).query}function mo(e,t){const n=Ot(e,t),i=k.get().auth;return Dt(n,i.schemes,i.activeScheme,i.token).cookies}function Pn(e,t){const n=Ot(e,t);return Ki(n)}function Ot(e,t){if(e)return Array.isArray(e)?vn(e,t,!1):e}let Te=-1,Zt=null,Ze=null;function Jr(){Qt();const e=Yr({overlayClass:"modal overlay search-modal-overlay",modalClass:"modal container search-modal",ariaLabel:"Search API",dataOverlayAttr:"data-search-overlay",onClose:()=>{Zt=null,k.set({searchOpen:!1})}});Zt=e;const t=e.modal,n=c("div",{className:"search-input-wrap"});n.innerHTML=H.search;const i=We({className:"search-input",placeholder:"Search endpoints, schemas...",ariaLabel:"Search"}),r=c("kbd",{textContent:"ESC",className:"kbd"});n.append(i,r),t.append(n);const s=c("div",{className:"search-results",role:"listbox"}),a=c("div",{className:"search-empty",textContent:"Type to search across endpoints and schemas"});s.append(a),t.append(s);const o=c("div",{className:"search-footer"});o.innerHTML='<span><kbd class="kbd">↑</kbd> <kbd class="kbd">↓</kbd> Navigate</span><span><kbd class="kbd">↵</kbd> Select</span><span><kbd class="kbd">ESC</kbd> Close</span>',t.append(o),e.mount(document.querySelector(".root")??document.body),requestAnimationFrame(()=>i.focus()),Te=-1;let l=[];i.addEventListener("input",()=>{const u=i.value;l=Ja(u),go(s,l),en(s,l.length>0?0:-1)}),i.addEventListener("keydown",u=>{const f=u;f.key==="ArrowDown"?(f.preventDefault(),l.length>0&&en(s,Math.min(Te+1,l.length-1))):f.key==="ArrowUp"?(f.preventDefault(),l.length>0&&en(s,Math.max(Te-1,0))):f.key==="Enter"?(f.preventDefault(),Te>=0&&Te<l.length&&Xr(l[Te])):f.key==="Escape"&&(f.preventDefault(),Qt())})}function Qt(){if(Zt){Zt.close();return}const e=document.querySelector("[data-search-overlay]");e&&e.remove(),k.set({searchOpen:!1})}function go(e,t){if(fe(e),t.length===0){e.append(c("div",{className:"search-empty",textContent:"No results found"}));return}const n=document.createDocumentFragment();t.forEach((i,r)=>{const s=c("div",{className:"search-result",role:"option","aria-selected":"false","data-index":String(r)});i.method?s.append(R({text:i.method.toUpperCase(),kind:"method",method:i.method})):i.type==="schema"?s.append(R({text:"SCH",kind:"chip",size:"m"})):i.type==="tag"&&s.append(R({text:"TAG",kind:"chip",size:"m"}));const a=c("div",{className:"search-result-info min-w-0"});if(a.append(c("span",{className:"search-result-title",textContent:i.title})),i.subtitle&&a.append(c("span",{className:"search-result-subtitle",textContent:i.subtitle})),s.append(a),i.method&&i.requiresAuth&&i.resolvedSecurity){const o=k.get().spec,l=jn(i.resolvedSecurity,o?.securitySchemes||{});s.append(c("span",{className:`search-result-lock search-result-lock--${l?"configured":"required"}`,innerHTML:l?H.unlock:H.lock,title:i.authTitle||"Requires authentication","aria-label":i.authTitle||"Requires authentication"}))}s.addEventListener("click",()=>Xr(i)),s.addEventListener("mouseenter",()=>{en(e,r)}),n.append(s)}),e.append(n)}function en(e,t){if(Te===t)return;if(Te>=0){const i=e.querySelector(`.search-result[data-index="${Te}"]`);i&&(i.classList.remove("focused"),i.setAttribute("aria-selected","false"))}if(Te=t,t<0)return;const n=e.querySelector(`.search-result[data-index="${t}"]`);n&&(n.classList.add("focused"),n.setAttribute("aria-selected","true"),n.scrollIntoView({block:"nearest"}))}function Xr(e){Qt(),e.type==="operation"?se(ae({type:"endpoint",tag:e.tag||"default",method:e.method,path:e.path,operationId:e.operationId})):e.type==="schema"?se(ae({type:"schema",schemaName:e.schemaName})):e.type==="tag"&&e.tag?se(ae({type:"tag",tag:e.tag})):e.type==="webhook"&&e.webhookName&&se(ae({type:"webhook",webhookName:e.webhookName}))}function vo(){return Ze&&document.removeEventListener("keydown",Ze),Ze=e=>{(e.metaKey||e.ctrlKey)&&e.key==="k"&&(e.preventDefault(),k.get().searchOpen?Qt():(k.set({searchOpen:!0}),Jr()))},document.addEventListener("keydown",Ze),()=>{Ze&&(document.removeEventListener("keydown",Ze),Ze=null)}}function bo(e,t){const n=e.querySelectorAll(".nav-item");let i=null;n.forEach(s=>{const a=s,o=a.getAttribute("href");if(!o)return;const l=o.startsWith("#")?o.slice(1):o,u=lr(l),f=pt(u,t);s.classList.toggle("active",f),f?(a.setAttribute("aria-current","page"),i=a):a.removeAttribute("aria-current")});const r=t.type==="endpoint"||t.type==="tag"?t.tag:t.type==="schema"?"schemas":null;if(r){const s=e.querySelector(`[data-nav-tag="${CSS.escape(r)}"]`);if(s){const a=s.querySelector(".nav-group-header"),o=s.querySelector(".nav-group-items");a&&o&&(a.classList.add("expanded"),o.classList.remove("collapsed"))}}i&&requestAnimationFrame(()=>{const a=i.closest(".nav-group")?.querySelector(".nav-group-header");a?a.scrollIntoView({block:"start",behavior:"smooth"}):i.scrollIntoView({block:"nearest",behavior:"smooth"})})}function Zr(e,t){const n=k.get(),i=n.spec;if(!i)return;fe(e);const r=t.title||i.info.title||"API Docs",s=i.info.version?`v${i.info.version}`:"",a=c("div",{className:"top"}),o=c("button",{type:"button",className:"btn icon s soft u-text-muted","aria-label":"Collapse sidebar"});o.innerHTML=H.chevronLeft,o.addEventListener("click",()=>k.set({sidebarOpen:!1}));const l=c("a",{className:"title",href:"/",textContent:r});l.addEventListener("click",O=>{O.preventDefault(),se("/")});const u=c("div",{className:"title-wrap"});if(u.append(l),s&&u.append(c("span",{className:"version",textContent:s})),a.append(o,u),i.securitySchemes&&Object.keys(i.securitySchemes).length>0){const O=n.auth,I=Object.keys(i.securitySchemes),D=O.activeScheme||I[0]||"",_=Xt(D),j=c("button",{type:"button",className:"btn icon s soft u-text-muted theme","aria-label":"Configure authentication",title:_?`Auth: ${D}`:"Configure authentication"});j.innerHTML=_?H.unlock:H.lock,j.classList.toggle("active",_),j.addEventListener("click",()=>{Vr(i.securitySchemes,e.closest(".root")??void 0,D)}),k.subscribe(()=>{const X=k.get().auth.activeScheme||I[0]||"",z=Xt(X);j.innerHTML=z?H.unlock:H.lock,j.title=z?`Auth: ${X}`:"Configure authentication",j.classList.toggle("active",z)}),a.append(j)}const f=c("button",{type:"button",className:"btn icon s soft u-text-muted theme","aria-label":"Toggle theme"});if(f.innerHTML=k.get().theme==="light"?H.moon:H.sun,f.addEventListener("click",()=>{Xa(),f.innerHTML=k.get().theme==="light"?H.moon:H.sun}),e.append(a),n.environments.length>1){const O=ko(n);e.append(O),k.subscribe(()=>{const I=k.get();O.value!==I.activeEnvironment&&(O.value=I.activeEnvironment)})}const p=c("div",{className:"search"}),g=c("span",{className:"search-icon",innerHTML:H.search}),h=We({className:"search-input",placeholder:"Search endpoints...",ariaLabel:"Search endpoints"}),v=c("span",{className:"kbd",textContent:"⌘K"});h.addEventListener("focus",()=>{k.set({searchOpen:!0}),h.blur(),Jr()}),p.append(g,h,v),e.append(p);const m=c("nav",{className:"nav","aria-label":"API navigation"}),E=So({type:"overview"},n.route);m.append(E);for(const O of i.tags){if(O.operations.length===0)continue;const I=yo(O,n.route);m.append(I)}if(i.webhooks&&i.webhooks.length>0){const O=c("div",{className:"nav-group","data-nav-tag":"webhooks"}),I=Qr("Webhooks",i.webhooks.length),D=c("div",{className:"nav-group-items"});for(const j of i.webhooks){const W={type:"webhook",webhookName:j.name},X=ei(j.summary||j.name,j.method,W,n.route);X.classList.add("nav-item-webhook"),D.append(X)}I.addEventListener("click",()=>{I.classList.toggle("expanded"),D.classList.toggle("collapsed")});const _=n.route.type==="webhook";I.classList.toggle("expanded",_),D.classList.toggle("collapsed",!_),O.append(I,D),m.append(O)}const y=Object.keys(i.schemas);if(y.length>0){const O=c("div",{className:"nav-group"}),I=Qr("Schemas",y.length),D=c("div",{className:"nav-group-items"});for(const j of y){const X=ei(j,void 0,{type:"schema",schemaName:j},n.route);D.append(X)}I.addEventListener("click",()=>{I.classList.toggle("expanded"),D.classList.toggle("collapsed")});const _=n.route.type==="schema";I.classList.toggle("expanded",_),D.classList.toggle("collapsed",!_),O.setAttribute("data-nav-tag","schemas"),O.append(I,D),m.append(O)}e.append(m);const x=c("div",{className:"footer"}),$=c("a",{className:"credit",href:"https://puredocs.dev",target:"_blank",rel:"noopener noreferrer"});$.textContent=`puredocs.dev${s?` ${s}`:""}`,x.append($),x.append(f),e.append(x),requestAnimationFrame(()=>{const O=m.querySelector(".nav-item.active");if(O){const D=O.closest(".nav-group")?.querySelector(".nav-group-header");D?D.scrollIntoView({block:"start",behavior:"smooth"}):O.scrollIntoView({block:"nearest",behavior:"smooth"})}})}function yo(e,t,n){const i=c("div",{className:"nav-group","data-nav-tag":e.name}),r=xo(e,t),s=c("div",{className:"nav-group-items"}),a=t.type==="tag"&&t.tag===e.name||e.operations.some(o=>pt(Dn(o,e.name),t));for(const o of e.operations){const l=Dn(o,e.name),u=Eo(o,l,t);s.append(u)}return r.addEventListener("click",o=>{o.target.closest(".nav-group-link")||(r.classList.toggle("expanded"),s.classList.toggle("collapsed"))}),s.classList.toggle("collapsed",!a),i.append(r,s),i}function xo(e,t){const n=t.type==="tag"&&t.tag===e.name||e.operations.some(a=>pt(Dn(a,e.name),t)),i=c("div",{className:"nav-group-header focus-ring","aria-expanded":String(n),tabIndex:0}),r=c("button",{type:"button",className:"nav-group-chevron","aria-label":n?"Collapse":"Expand"});r.innerHTML=H.chevronRight,r.addEventListener("click",a=>{a.preventDefault(),a.stopPropagation(),i.click()});const s=c("a",{className:"nav-group-link",href:ae({type:"tag",tag:e.name})});return s.append(c("span",{className:"nav-group-title",textContent:e.name}),c("span",{className:"nav-group-count",textContent:String(e.operations.length)})),s.addEventListener("click",a=>{a.preventDefault(),se(ae({type:"tag",tag:e.name}))}),i.append(r,s),i.classList.toggle("expanded",n),i.addEventListener("keydown",a=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),r.click())}),i}function Qr(e,t){const n=c("div",{className:"nav-group-header focus-ring",role:"button","aria-expanded":"true",tabindex:"0"}),i=c("button",{type:"button",className:"nav-group-chevron","aria-label":"Toggle section"});i.innerHTML=H.chevronRight,i.addEventListener("click",s=>{s.preventDefault(),s.stopPropagation(),n.click()});const r=c("span",{className:"nav-group-link nav-group-link--static"});return r.append(c("span",{className:"nav-group-title",textContent:e}),c("span",{className:"nav-group-count",textContent:String(t)})),n.append(i,r),n.addEventListener("keydown",s=>{(s.key==="Enter"||s.key===" ")&&(s.preventDefault(),n.click())}),n}function ei(e,t,n,i){const r=pt(n,i),s=c("a",{className:`nav-item${r?" active":""}`,href:ae(n),role:"link","aria-current":r?"page":void 0}),a=R(t?{text:t.toUpperCase(),kind:"method",method:t}:{text:"GET",kind:"method",method:"get",className:"placeholder"});return t||a.setAttribute("aria-hidden","true"),s.append(a),s.append(c("span",{className:"nav-item-label",textContent:e})),s.addEventListener("click",o=>{o.preventDefault(),se(ae(n))}),s}function So(e,t){const n=pt(e,t),i=c("a",{className:`nav-item nav-item-overview${n?" active":""}`,href:ae(e),role:"link","aria-current":n?"page":void 0}),r=c("span",{className:"nav-overview-icon-slot"});r.innerHTML=H.globe;const s=c("span",{className:"nav-item-label",textContent:"Overview"});return i.append(r,s),i.addEventListener("click",a=>{a.preventDefault(),se(ae(e))}),i}function Eo(e,t,n){const i=pt(t,n),r=c("a",{className:`nav-item${i?" active":""}${e.deprecated?" deprecated":""}`,href:ae(t),title:`${e.method.toUpperCase()} ${e.path}`,"aria-current":i?"page":void 0}),s=k.get().spec,a=le(e.resolvedSecurity)?Mn({configured:jn(e.resolvedSecurity,s?.securitySchemes||{}),variant:"nav",title:st(e.resolvedSecurity)}):null;return r.append(R({text:e.method.toUpperCase(),kind:"method",method:e.method}),c("span",{className:"nav-item-label",textContent:e.summary||e.path}),...a?[a]:[]),r.addEventListener("click",o=>{o.preventDefault(),se(ae(t))}),r}function Dn(e,t){return{type:"endpoint",tag:t,method:e.method,path:e.path,operationId:e.operationId}}function pt(e,t){return e.type!==t.type?!1:e.type==="overview"?!0:e.type==="tag"?e.tag===t.tag:e.type==="endpoint"?e.method===t.method&&e.path===t.path:e.type==="schema"?e.schemaName===t.schemaName:e.type==="webhook"?e.webhookName===t.webhookName:!1}function ko(e){const t=e.initialEnvironments||e.environments,n=e.environments.map(r=>{const s=t.find(o=>o.name===r.name),a=Kt((s?.baseUrl??r.baseUrl)||"");return{value:r.name,label:a||"(no URL)"}});return Gt({options:n,value:e.activeEnvironment,ariaLabel:"Select server environment",onChange:r=>k.setActiveEnvironment(r),className:"env"})}function ti(e,t,n="No operations"){const i=c("div",{className:"summary-line"});for(const s of e)i.append(R({text:`${s.value} ${s.label}`,kind:"chip",size:"m"}));const r=["get","post","put","patch","delete","head","options"];for(const s of r){const a=t[s]||0;a!==0&&i.append(R({kind:"method",method:s,size:"m",text:`${a} ${s.toUpperCase()}`}))}return i.childNodes.length||i.append(R({text:n,kind:"chip",size:"m"})),i}function No(e,t){const n=[],i=Co(e,t);return i&&n.push(i),n}function Co(e,t){if(Object.keys(e).length===0)return null;const n=ve({title:"Authentication"}),i=[];for(const[r,s]of Object.entries(e)){const a=Xt(r),o=$e({className:"card-group card-auth"}),l=c("div",{className:"card-auth-main"}),u=c("div",{className:"card-info card-auth-info"}),f=`${s.type}${s.scheme?` / ${s.scheme}`:""}`;u.append(c("h3",{textContent:r}),c("p",{className:"card-auth-type",textContent:f})),s.description&&u.append(c("p",{className:"card-auth-desc",textContent:String(s.description)}));const p=Oe({variant:"secondary",icon:a?H.check:H.settings,label:a?"Success":"Set",className:`card-auth-config${a?" active is-configured":""}`,onClick:g=>{g.stopPropagation(),Vr(e,t,r)}});l.append(u),o.append(l,p),i.push({name:r,btn:p}),n.append(o)}return k.subscribe(()=>{for(const r of i){const s=Xt(r.name);r.btn.className=`btn secondary m card-auth-config${s?" active is-configured":""}`,r.btn.innerHTML=`<span class="btn-icon-slot">${s?H.check:H.settings}</span><span>${s?"Success":"Set"}</span>`}}),n}async function ni(e,t){fe(e);const n=k.get().spec;if(!n)return;const i=c("div",{className:"block header"}),r=c("div",{className:"title"});r.append(c("h1",{textContent:n.info.title}),c("span",{className:"version",textContent:`v${n.info.version}`})),i.append(r),n.info.description&&i.append(c("p",{textContent:n.info.description})),e.append(i);const s=n.operations.filter(f=>le(f.resolvedSecurity)).length,a=n.operations.filter(f=>f.deprecated).length,o=Ao(n.operations);e.append(ve({className:"summary"},ti([{label:"Endpoints",value:n.operations.length},{label:"Auth Required",value:s},{label:"Deprecated",value:a}],o,"No operations")));const l=e.closest(".root")??void 0,u=No(n.securitySchemes||{},l);for(const f of u)e.append(f);if(n.servers.length>0){const f=ve({title:"Servers"}),p=k.get(),g=p.initialEnvironments||p.environments;for(const h of n.servers){const v=g.find(I=>I.baseUrl===h.url),m=v?.name===p.activeEnvironment,E=$e({interactive:!0,active:m,className:"card-group",onClick:()=>{v&&k.setActiveEnvironment(v.name)}});E.title="Click to set as active environment";const y=c("div",{className:"card-info"}),x=c("div",{className:"inline-cluster inline-cluster-sm"}),$=c("span",{className:"icon-muted"});$.innerHTML=H.server,x.append($,c("code",{textContent:h.url})),y.append(x),h.description&&y.append(c("p",{textContent:h.description}));const O=c("div",{className:"card-badges"});E.append(y,O),f.append(E)}e.append(f)}if(n.tags.length>0){const f=ve({title:"API Groups"});for(const p of n.tags)p.operations.length!==0&&f.append(wo(p));e.append(f)}if(n.webhooks&&n.webhooks.length>0){const f=ve({title:"Webhooks"});for(const p of n.webhooks){const g=$e({interactive:!0,className:"card-group",onClick:()=>se(ae({type:"webhook",webhookName:p.name}))}),h=c("div",{className:"card-info"});h.append(c("h3",{textContent:p.summary||p.name}),p.description?c("p",{textContent:p.description}):c("p",{textContent:`${p.method.toUpperCase()} webhook`}));const v=c("div",{className:"card-badges"});v.append(R({text:"WH",kind:"webhook",size:"s"}),R({text:p.method.toUpperCase(),kind:"method",method:p.method,size:"s"})),g.append(h,v),f.append(g)}e.append(f)}}function wo(e){const t=$e({interactive:!0,className:"card-group",onClick:()=>se(ae({type:"tag",tag:e.name}))}),n=c("div",{className:"card-info"});n.append(c("h3",{textContent:e.name}),c("p",{textContent:e.description||`${e.operations.length} endpoints`}));const i=Oo(e),r=c("div",{className:"card-badges"});for(const[s,a]of Object.entries(i)){const o=R({text:s.toUpperCase(),kind:"method",method:s,size:"m"});o.textContent=`${a} ${s.toUpperCase()}`,r.append(o)}return t.append(n,r),t}function Ao(e){const t={};for(const n of e)t[n.method]=(t[n.method]||0)+1;return t}function Oo(e){const t={};for(const n of e.operations)t[n.method]=(t[n.method]||0)+1;return t}function Tt(e){if(!e)return"any";if(e.$ref)return e.$ref.split("/").pop()||"ref";let t=e.type||"";return e.allOf?t="allOf":e.oneOf?t="oneOf":e.anyOf?t="anyOf":e.enum?t="enum":e.format&&(t+=`<${e.format}>`),e.type==="array"&&e.items&&!e.enum&&(t=`${e.items.type||e.items.$ref?.split("/").pop()||"any"}[]`),e.nullable&&(t+=" | null"),t||"object"}function To(e){const t=c("div",{className:"schema"}),n=c("div",{className:"body"});t.append(n);const i=[];ii(n,e,"",0,new Set,i);const r=i.length>0,s=()=>i.some(({children:o})=>o.style.display!=="none");return{body:t,toggleCollapse:()=>{const o=!s();oi(i,o)},isExpanded:s,hasExpandable:r}}function ft(e,t){const n=$e(),i=Tt(e),r=Vt(),s=c("div",{className:"schema"}),a=c("div",{className:"body"});s.append(a);const o=[];if(ii(a,e,"",0,new Set,o),r.append(s),t){const l=Tn(),u=typeof t=="string"?c("h3",{textContent:t}):t,f=o.length>0,p=f&&o.some(({children:v})=>v.style.display!=="none"),g=R({text:i,kind:"chip",size:"m"}),h=f?c("button",{className:p?"schema-collapse-btn is-expanded":"schema-collapse-btn",type:"button",title:p?"Collapse all fields":"Expand all fields"}):null;if(h&&(h.innerHTML=H.chevronDown,h.addEventListener("click",v=>{v.stopPropagation();const m=!h.classList.contains("is-expanded");oi(o,m),h.classList.toggle("is-expanded",m),h.title=m?"Collapse all fields":"Expand all fields"})),u.classList.contains("card-row"))u.classList.add("schema-header-row"),u.append(g),h&&u.append(h),l.append(u);else{const v=c("div",{className:"card-row schema-header-row"});v.append(u,g),h&&v.append(h),l.append(v)}n.prepend(l)}return n.append(r),n}function ri(e,t){const{headerTitle:n,withEnumAndDefault:i=!0}=t,r=e.map(u=>{const f=c("div",{className:"schema-row role-flat role-params"}),p=c("div",{className:"schema-main-row"}),g=c("div",{className:"schema-name-wrapper"});g.append(c("span",{className:"schema-spacer"}),c("span",{textContent:u.name}));const h=c("div",{className:"schema-meta-wrapper"});h.append(R({text:u.schema?Tt(u.schema):"unknown",kind:"chip",size:"m"})),u.required&&h.append(R({text:"required",kind:"required",size:"m"})),p.append(g,h),f.append(p);const v=c("div",{className:"schema-desc-col is-root"});u.description&&v.append(c("p",{textContent:u.description}));const m=u.schema?.enum,E=u.schema?.default!==void 0;if(i&&(m&&m.length>0||E)){const y=c("div",{className:"schema-enum-values"});if(E&&y.append(R({text:`Default: ${JSON.stringify(u.schema.default)}`,kind:"chip",size:"s"})),m)for(const x of m){const $=String(x);$!==u.in&&y.append(R({text:$,kind:"chip",size:"s"}))}v.append(y)}return v.children.length>0&&f.append(v),f}),s=$e(),a=Vt(),o=c("div",{className:"params"}),l=c("div",{className:"body role-params"});return l.append(...r),o.append(l),a.append(o),s.append(Tn(Ln({title:n})),a),s}function tn(e,t,n,i,r,s,a){const o=Tt(n),l=Lo(n),u=ai(t,o,n,i,l,r);if(e.append(u),l){const f=c("div",{className:"schema-children"});f.style.display="block";const p=new Set(s);p.add(n),si(f,n,i+1,p,a),e.append(f),a?.push({row:u,children:f}),u.querySelector(".schema-toggle")?.classList.add("is-expanded"),u.classList.add("focus-ring"),u.setAttribute("aria-expanded","true"),u.setAttribute("tabindex","0"),u.addEventListener("click",()=>{const g=f.style.display!=="none";Fn(u,f,!g)}),u.addEventListener("keydown",g=>{if(g.key!=="Enter"&&g.key!==" ")return;g.preventDefault();const h=f.style.display!=="none";Fn(u,f,!h)})}}function ii(e,t,n,i,r,s){if(r.has(t)){e.append(ai("[circular]","circular",{description:""},i,!1,!1));return}{const a=new Set(r);a.add(t),si(e,t,i,a,s);return}}function si(e,t,n,i,r){const s=new Set(t.required||[]);if(t.properties)for(const[a,o]of Object.entries(t.properties))tn(e,a,o,n,s.has(a),i,r);t.items&&t.type==="array"&&tn(e,"[item]",t.items,n,!1,i,r);for(const a of["allOf","oneOf","anyOf"]){const o=t[a];if(Array.isArray(o))for(let l=0;l<o.length;l++)tn(e,`${a}[${l}]`,o[l],n,!1,i,r)}t.additionalProperties&&typeof t.additionalProperties=="object"&&tn(e,"[additionalProperties]",t.additionalProperties,n,!1,i,r)}function ai(e,t,n,i,r,s){const a=["schema-row",i===0?"is-root":"",i===0&&!r?"is-leaf":""].filter(Boolean).join(" "),o=c("div",{className:a,role:r?"button":void 0});o.setAttribute("data-depth",String(i)),o.style.setProperty("--schema-depth",String(i));const l=c("div",{className:"schema-main-row"}),u=c("div",{className:"schema-name-wrapper"});r?u.append(c("span",{className:"schema-toggle",innerHTML:H.chevronRight})):u.append(c("span",{className:"schema-spacer"})),u.append(c("span",{textContent:e})),l.append(u);const f=c("div",{className:"schema-meta-wrapper"});f.append(R({text:t,kind:"chip",size:"m"})),s&&f.append(R({text:"required",kind:"required",size:"m"})),l.append(f),o.append(l);const p=c("div",{className:`schema-desc-col${i===0?" is-root":""}`});n.description&&p.append(c("p",{textContent:String(n.description)}));const g=n.enum,h=Array.isArray(g)&&g.length>0,v=n.default,m=v!==void 0,E=h&&m?g.some(x=>Hn(x,v)):!1,y=_o(n,!h||!m);if(y.length>0||h){const x=c("div",{className:"schema-constraints-row"});for(const $ of y)x.append(R({text:$,kind:"chip",size:$.startsWith("default: ")?"s":"m"}));if(h){const $=m&&E?[v,...g.filter(O=>!Hn(O,v))]:g;m&&!E&&x.append(R({text:`default: ${nn(v)}`,kind:"chip",size:"s",className:"schema-enum-value is-default"}));for(const O of $){const I=m&&Hn(O,v);x.append(R({text:I?`default: ${nn(O)}`:nn(O),kind:"chip",size:"s",className:I?"schema-enum-value is-default":"schema-enum-value"}))}}p.append(x)}return p.children.length>0&&o.append(p),o}function Lo(e){return!!(e.properties&&Object.keys(e.properties).length>0||e.type==="array"&&e.items||e.allOf||e.oneOf||e.anyOf||e.additionalProperties&&typeof e.additionalProperties=="object")}function _o(e,t=!0){const n=[];return e.minLength!==void 0&&n.push(`minLength: ${e.minLength}`),e.maxLength!==void 0&&n.push(`maxLength: ${e.maxLength}`),e.minimum!==void 0&&n.push(`minimum: ${e.minimum}`),e.maximum!==void 0&&n.push(`maximum: ${e.maximum}`),e.pattern&&n.push(`pattern: ${e.pattern}`),e.minItems!==void 0&&n.push(`minItems: ${e.minItems}`),e.maxItems!==void 0&&n.push(`maxItems: ${e.maxItems}`),e.uniqueItems&&n.push("uniqueItems: true"),t&&e.default!==void 0&&n.push(`default: ${nn(e.default)}`),e.deprecated&&n.push("deprecated: true"),e.readOnly&&n.push("readOnly: true"),e.writeOnly&&n.push("writeOnly: true"),n}function oi(e,t){for(const{row:n,children:i}of e)Fn(n,i,t)}function Fn(e,t,n){t.style.display=n?"block":"none",e.querySelector(".schema-toggle")?.classList.toggle("is-expanded",n),e.setAttribute("aria-expanded",n?"true":"false")}function nn(e){if(typeof e=="string")return e;if(typeof e=="number"||typeof e=="boolean")return String(e);if(e===null)return"null";try{return JSON.stringify(e)}catch{return String(e)}}function Hn(e,t){if(e===t)return!0;try{return JSON.stringify(e)===JSON.stringify(t)}catch{return String(e)===String(t)}}async function Io(e){const{method:t,url:n,headers:i={},body:r,timeout:s=3e4}=e,a=new AbortController,o=setTimeout(()=>a.abort(),s),l=performance.now();try{const u=typeof FormData<"u"&&r instanceof FormData,f={method:t.toUpperCase(),headers:u?void 0:i,signal:a.signal,credentials:"include"};if(u){const E={};for(const[y,x]of Object.entries(i))y.toLowerCase()!=="content-type"&&(E[y]=x);Object.keys(E).length>0&&(f.headers=E)}r&&!["GET","HEAD"].includes(t.toUpperCase())&&(f.body=r);const p=await fetch(n,f),g=performance.now()-l,h=await p.text(),v=new TextEncoder().encode(h).length,m={};return p.headers.forEach((E,y)=>{m[y.toLowerCase()]=E}),Mo(h,m),{status:p.status,statusText:p.statusText,headers:m,body:h,duration:g,size:v}}catch(u){const f=performance.now()-l;return u.name==="AbortError"?{status:0,statusText:"Request timed out",headers:{},body:`Request timed out after ${s}ms`,duration:f,size:0}:{status:0,statusText:"Network Error",headers:{},body:u.message||"Unknown network error",duration:f,size:0}}finally{clearTimeout(o)}}function Mo(e,t){const n=k.get().auth;if(n.locked)return;const i=k.get().spec;let r=n.activeScheme;if(i){for(const[a,o]of Object.entries(i.securitySchemes))if(o.type==="http"&&o.scheme?.toLowerCase()==="bearer"){r=a;break}}const s=t["x-new-access-token"];if(s){r?(k.setSchemeValue(r,s),k.setAuth({source:"auto-header"})):k.setAuth({token:s,source:"auto-header"});return}try{const a=JSON.parse(e),o=a.accessToken||a.access_token||a.token;typeof o=="string"&&o.length>10&&(r?(k.setSchemeValue(r,o),k.setAuth({source:"auto-body"})):k.setAuth({token:o,source:"auto-body"}))}catch{}}function Ro(e,t,n,i){let r=t;for(const[u,f]of Object.entries(n))r=r.replace(`{${u}}`,encodeURIComponent(f));const a=e.replace(/\/+$/,"")+r,o=new URLSearchParams;for(const[u,f]of Object.entries(i))f&&o.set(u,f);const l=o.toString();return l?`${a}?${l}`:a}function Un(e){return[{language:"curl",label:"cURL",code:Bo(e)},{language:"javascript",label:"JavaScript",code:$o(e)},{language:"python",label:"Python",code:jo(e)},{language:"go",label:"Go",code:qo(e)}]}function Bo({method:e,url:t,headers:n,body:i}){const r=[`curl -X ${e.toUpperCase()} '${t}'`];for(const[s,a]of Object.entries(n))r.push(`  -H '${s}: ${a}'`);return i&&r.push(`  -d '${i}'`),r.join(` \\
`)}function $o({method:e,url:t,headers:n,body:i}){const r=[];r.push(`  method: '${e.toUpperCase()}'`);const s=Object.entries(n);if(s.length>0){const a=s.map(([o,l])=>`    '${o}': '${l}'`).join(`,
`);r.push(`  headers: {
${a}
  }`)}return i&&r.push(`  body: JSON.stringify(${i})`),`const response = await fetch('${t}', {
${r.join(`,
`)}
});

const data = await response.json();
console.log(data);`}function jo({method:e,url:t,headers:n,body:i}){const r=["import requests",""],s=Object.entries(n);if(s.length>0){const o=s.map(([l,u])=>`    "${l}": "${u}"`).join(`,
`);r.push(`headers = {
${o}
}`)}i&&r.push(`payload = ${i}`);const a=[`"${t}"`];return s.length>0&&a.push("headers=headers"),i&&a.push("json=payload"),r.push(""),r.push(`response = requests.${e.toLowerCase()}(${a.join(", ")})`),r.push("print(response.json())"),r.join(`
`)}function qo({method:e,url:t,headers:n,body:i}){const r=["package main","","import (",'    "fmt"','    "io"','    "net/http"'];i&&r.push('    "strings"'),r.push(")","","func main() {"),i?(r.push(`    body := strings.NewReader(\`${i}\`)`),r.push(`    req, err := http.NewRequest("${e.toUpperCase()}", "${t}", body)`)):r.push(`    req, err := http.NewRequest("${e.toUpperCase()}", "${t}", nil)`),r.push("    if err != nil {"),r.push("        panic(err)"),r.push("    }");for(const[s,a]of Object.entries(n))r.push(`    req.Header.Set("${s}", "${a}")`);return r.push(""),r.push("    resp, err := http.DefaultClient.Do(req)"),r.push("    if err != nil {"),r.push("        panic(err)"),r.push("    }"),r.push("    defer resp.Body.Close()"),r.push(""),r.push("    data, _ := io.ReadAll(resp.Body)"),r.push("    fmt.Println(string(data))"),r.push("}"),r.join(`
`)}function Po(e){if(e.length===0)return[];const t=(r,s,a)=>{if(s&&r.examples?.[s]!==void 0){const o=r.examples[s],l=o?.value??o.value;if(l!=null)return String(l)}return a!==void 0&&r.schema?.enum&&r.schema.enum[a]!==void 0?String(r.schema.enum[a]):r.example!==void 0&&r.example!==null?String(r.example):r.schema?.example!==void 0&&r.schema.example!==null?String(r.schema.example):r.schema?.default!==void 0&&r.schema.default!==null?String(r.schema.default):r.schema?.enum&&r.schema.enum.length>0?String(r.schema.enum[0]):r.schema?.type==="integer"||r.schema?.type==="number"?"0":r.schema?.type==="boolean"?"true":r.in==="path"?"id":"value"},n=new Set;for(const r of e)if(r.examples&&typeof r.examples=="object")for(const s of Object.keys(r.examples))n.add(s);const i=[];if(n.size>0)for(const r of n){const s={};for(const l of e)s[l.name]=t(l,r);const o=e.find(l=>l.examples?.[r])?.examples?.[r];i.push({name:r,summary:o?.summary,values:s})}else{const r=e.find(s=>s.schema?.enum&&s.schema.enum.length>1);if(r?.schema?.enum)for(let s=0;s<r.schema.enum.length;s++){const a={};for(const l of e)a[l.name]=l===r?t(l,null,s):t(l,null);const o=String(r.schema.enum[s]);i.push({name:o,values:a})}else{const s={};for(const a of e)s[a.name]=t(a,null);i.push({name:"Default",values:s})}}return i}function ci(e){const t=[];if(e.examples&&typeof e.examples=="object")for(const[n,i]of Object.entries(e.examples))t.push({name:n,summary:i.summary,description:i.description,value:i.value});if(t.length===0&&e.example!==void 0&&t.push({name:"Default",value:e.example}),t.length===0&&e.schema){const n=Xe(e.schema);n!==void 0&&t.push({name:"Generated",value:n})}return t}function Do(e){const t=[e.summary,e.description].filter(Boolean);return[...new Set(t)].join(" — ")||e.name}function li(e){if(e==null)return"";if(typeof e=="string")return e;try{return JSON.stringify(e,null,2)}catch{return String(e)}}function Fo(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var zn,ui;function Ho(){if(ui)return zn;ui=1;function e(d){return d instanceof Map?d.clear=d.delete=d.set=function(){throw new Error("map is read-only")}:d instanceof Set&&(d.add=d.clear=d.delete=function(){throw new Error("set is read-only")}),Object.freeze(d),Object.getOwnPropertyNames(d).forEach(b=>{const N=d[b],P=typeof N;(P==="object"||P==="function")&&!Object.isFrozen(N)&&e(N)}),d}class t{constructor(b){b.data===void 0&&(b.data={}),this.data=b.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function n(d){return d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function i(d,...b){const N=Object.create(null);for(const P in d)N[P]=d[P];return b.forEach(function(P){for(const ee in P)N[ee]=P[ee]}),N}const r="</span>",s=d=>!!d.scope,a=(d,{prefix:b})=>{if(d.startsWith("language:"))return d.replace("language:","language-");if(d.includes(".")){const N=d.split(".");return[`${b}${N.shift()}`,...N.map((P,ee)=>`${P}${"_".repeat(ee+1)}`)].join(" ")}return`${b}${d}`};class o{constructor(b,N){this.buffer="",this.classPrefix=N.classPrefix,b.walk(this)}addText(b){this.buffer+=n(b)}openNode(b){if(!s(b))return;const N=a(b.scope,{prefix:this.classPrefix});this.span(N)}closeNode(b){s(b)&&(this.buffer+=r)}value(){return this.buffer}span(b){this.buffer+=`<span class="${b}">`}}const l=(d={})=>{const b={children:[]};return Object.assign(b,d),b};class u{constructor(){this.rootNode=l(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(b){this.top.children.push(b)}openNode(b){const N=l({scope:b});this.add(N),this.stack.push(N)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(b){return this.constructor._walk(b,this.rootNode)}static _walk(b,N){return typeof N=="string"?b.addText(N):N.children&&(b.openNode(N),N.children.forEach(P=>this._walk(b,P)),b.closeNode(N)),b}static _collapse(b){typeof b!="string"&&b.children&&(b.children.every(N=>typeof N=="string")?b.children=[b.children.join("")]:b.children.forEach(N=>{u._collapse(N)}))}}class f extends u{constructor(b){super(),this.options=b}addText(b){b!==""&&this.add(b)}startScope(b){this.openNode(b)}endScope(){this.closeNode()}__addSublanguage(b,N){const P=b.root;N&&(P.scope=`language:${N}`),this.add(P)}toHTML(){return new o(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function p(d){return d?typeof d=="string"?d:d.source:null}function g(d){return m("(?=",d,")")}function h(d){return m("(?:",d,")*")}function v(d){return m("(?:",d,")?")}function m(...d){return d.map(N=>p(N)).join("")}function E(d){const b=d[d.length-1];return typeof b=="object"&&b.constructor===Object?(d.splice(d.length-1,1),b):{}}function y(...d){return"("+(E(d).capture?"":"?:")+d.map(P=>p(P)).join("|")+")"}function x(d){return new RegExp(d.toString()+"|").exec("").length-1}function $(d,b){const N=d&&d.exec(b);return N&&N.index===0}const O=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function I(d,{joinWith:b}){let N=0;return d.map(P=>{N+=1;const ee=N;let te=p(P),A="";for(;te.length>0;){const w=O.exec(te);if(!w){A+=te;break}A+=te.substring(0,w.index),te=te.substring(w.index+w[0].length),w[0][0]==="\\"&&w[1]?A+="\\"+String(Number(w[1])+ee):(A+=w[0],w[0]==="("&&N++)}return A}).map(P=>`(${P})`).join(b)}const D=/\b\B/,_="[a-zA-Z]\\w*",j="[a-zA-Z_]\\w*",W="\\b\\d+(\\.\\d+)?",X="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",z="\\b(0b[01]+)",xe="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",et=(d={})=>{const b=/^#![ ]*\//;return d.binary&&(d.begin=m(b,/.*\b/,d.binary,/\b.*/)),i({scope:"meta",begin:b,end:/$/,relevance:0,"on:begin":(N,P)=>{N.index!==0&&P.ignoreMatch()}},d)},Ge={begin:"\\\\[\\s\\S]",relevance:0},Mt={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[Ge]},Qn={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[Ge]},er={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},Pe=function(d,b,N={}){const P=i({scope:"comment",begin:d,end:b,contains:[]},N);P.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const ee=y("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return P.contains.push({begin:m(/[ ]+/,"(",ee,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),P},ln=Pe("//","$"),un=Pe("/\\*","\\*/"),Rt=Pe("#","$"),B={scope:"number",begin:W,relevance:0},G={scope:"number",begin:X,relevance:0},ue={scope:"number",begin:z,relevance:0},Se={scope:"regexp",begin:/\/(?=[^/\n]*\/)/,end:/\/[gimuy]*/,contains:[Ge,{begin:/\[/,end:/\]/,relevance:0,contains:[Ge]}]},tt={scope:"title",begin:_,relevance:0},Z={scope:"title",begin:j,relevance:0},Q={begin:"\\.\\s*"+j,relevance:0};var _e=Object.freeze({__proto__:null,APOS_STRING_MODE:Mt,BACKSLASH_ESCAPE:Ge,BINARY_NUMBER_MODE:ue,BINARY_NUMBER_RE:z,COMMENT:Pe,C_BLOCK_COMMENT_MODE:un,C_LINE_COMMENT_MODE:ln,C_NUMBER_MODE:G,C_NUMBER_RE:X,END_SAME_AS_BEGIN:function(d){return Object.assign(d,{"on:begin":(b,N)=>{N.data._beginMatch=b[1]},"on:end":(b,N)=>{N.data._beginMatch!==b[1]&&N.ignoreMatch()}})},HASH_COMMENT_MODE:Rt,IDENT_RE:_,MATCH_NOTHING_RE:D,METHOD_GUARD:Q,NUMBER_MODE:B,NUMBER_RE:W,PHRASAL_WORDS_MODE:er,QUOTE_STRING_MODE:Qn,REGEXP_MODE:Se,RE_STARTERS_RE:xe,SHEBANG:et,TITLE_MODE:tt,UNDERSCORE_IDENT_RE:j,UNDERSCORE_TITLE_MODE:Z});function mt(d,b){d.input[d.index-1]==="."&&b.ignoreMatch()}function tr(d,b){d.className!==void 0&&(d.scope=d.className,delete d.className)}function gt(d,b){b&&d.beginKeywords&&(d.begin="\\b("+d.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",d.__beforeBegin=mt,d.keywords=d.keywords||d.beginKeywords,delete d.beginKeywords,d.relevance===void 0&&(d.relevance=0))}function Ie(d,b){Array.isArray(d.illegal)&&(d.illegal=y(...d.illegal))}function nt(d,b){if(d.match){if(d.begin||d.end)throw new Error("begin & end are not supported with match");d.begin=d.match,delete d.match}}function Bt(d,b){d.relevance===void 0&&(d.relevance=1)}const vt=(d,b)=>{if(!d.beforeMatch)return;if(d.starts)throw new Error("beforeMatch cannot be used with starts");const N=Object.assign({},d);Object.keys(d).forEach(P=>{delete d[P]}),d.keywords=N.keywords,d.begin=m(N.beforeMatch,g(N.begin)),d.starts={relevance:0,contains:[Object.assign(N,{endsParent:!0})]},d.relevance=0,delete N.beforeMatch},De=["of","and","for","in","not","or","if","then","parent","list","value"],ye="keyword";function rt(d,b,N=ye){const P=Object.create(null);return typeof d=="string"?ee(N,d.split(" ")):Array.isArray(d)?ee(N,d):Object.keys(d).forEach(function(te){Object.assign(P,rt(d[te],b,te))}),P;function ee(te,A){b&&(A=A.map(w=>w.toLowerCase())),A.forEach(function(w){const q=w.split("|");P[q[0]]=[te,bt(q[0],q[1])]})}}function bt(d,b){return b?Number(b):$t(d)?0:1}function $t(d){return De.includes(d.toLowerCase())}const yt={},Ce=d=>{console.error(d)},Oi=(d,...b)=>{console.log(`WARN: ${d}`,...b)},xt=(d,b)=>{yt[`${d}/${b}`]||(console.log(`Deprecated as of ${d}. ${b}`),yt[`${d}/${b}`]=!0)},dn=new Error;function Ti(d,b,{key:N}){let P=0;const ee=d[N],te={},A={};for(let w=1;w<=b.length;w++)A[w+P]=ee[w],te[w+P]=!0,P+=x(b[w-1]);d[N]=A,d[N]._emit=te,d[N]._multi=!0}function jc(d){if(Array.isArray(d.begin)){if(d.skip||d.excludeBegin||d.returnBegin)throw Ce("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),dn;if(typeof d.beginScope!="object"||d.beginScope===null)throw Ce("beginScope must be object"),dn;Ti(d,d.begin,{key:"beginScope"}),d.begin=I(d.begin,{joinWith:""})}}function qc(d){if(Array.isArray(d.end)){if(d.skip||d.excludeEnd||d.returnEnd)throw Ce("skip, excludeEnd, returnEnd not compatible with endScope: {}"),dn;if(typeof d.endScope!="object"||d.endScope===null)throw Ce("endScope must be object"),dn;Ti(d,d.end,{key:"endScope"}),d.end=I(d.end,{joinWith:""})}}function Pc(d){d.scope&&typeof d.scope=="object"&&d.scope!==null&&(d.beginScope=d.scope,delete d.scope)}function Dc(d){Pc(d),typeof d.beginScope=="string"&&(d.beginScope={_wrap:d.beginScope}),typeof d.endScope=="string"&&(d.endScope={_wrap:d.endScope}),jc(d),qc(d)}function Fc(d){function b(A,w){return new RegExp(p(A),"m"+(d.case_insensitive?"i":"")+(d.unicodeRegex?"u":"")+(w?"g":""))}class N{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(w,q){q.position=this.position++,this.matchIndexes[this.matchAt]=q,this.regexes.push([q,w]),this.matchAt+=x(w)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const w=this.regexes.map(q=>q[1]);this.matcherRe=b(I(w,{joinWith:"|"}),!0),this.lastIndex=0}exec(w){this.matcherRe.lastIndex=this.lastIndex;const q=this.matcherRe.exec(w);if(!q)return null;const ce=q.findIndex((jt,rr)=>rr>0&&jt!==void 0),re=this.matchIndexes[ce];return q.splice(0,ce),Object.assign(q,re)}}class P{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(w){if(this.multiRegexes[w])return this.multiRegexes[w];const q=new N;return this.rules.slice(w).forEach(([ce,re])=>q.addRule(ce,re)),q.compile(),this.multiRegexes[w]=q,q}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(w,q){this.rules.push([w,q]),q.type==="begin"&&this.count++}exec(w){const q=this.getMatcher(this.regexIndex);q.lastIndex=this.lastIndex;let ce=q.exec(w);if(this.resumingScanAtSamePosition()&&!(ce&&ce.index===this.lastIndex)){const re=this.getMatcher(0);re.lastIndex=this.lastIndex+1,ce=re.exec(w)}return ce&&(this.regexIndex+=ce.position+1,this.regexIndex===this.count&&this.considerAll()),ce}}function ee(A){const w=new P;return A.contains.forEach(q=>w.addRule(q.begin,{rule:q,type:"begin"})),A.terminatorEnd&&w.addRule(A.terminatorEnd,{type:"end"}),A.illegal&&w.addRule(A.illegal,{type:"illegal"}),w}function te(A,w){const q=A;if(A.isCompiled)return q;[tr,nt,Dc,vt].forEach(re=>re(A,w)),d.compilerExtensions.forEach(re=>re(A,w)),A.__beforeBegin=null,[gt,Ie,Bt].forEach(re=>re(A,w)),A.isCompiled=!0;let ce=null;return typeof A.keywords=="object"&&A.keywords.$pattern&&(A.keywords=Object.assign({},A.keywords),ce=A.keywords.$pattern,delete A.keywords.$pattern),ce=ce||/\w+/,A.keywords&&(A.keywords=rt(A.keywords,d.case_insensitive)),q.keywordPatternRe=b(ce,!0),w&&(A.begin||(A.begin=/\B|\b/),q.beginRe=b(q.begin),!A.end&&!A.endsWithParent&&(A.end=/\B|\b/),A.end&&(q.endRe=b(q.end)),q.terminatorEnd=p(q.end)||"",A.endsWithParent&&w.terminatorEnd&&(q.terminatorEnd+=(A.end?"|":"")+w.terminatorEnd)),A.illegal&&(q.illegalRe=b(A.illegal)),A.contains||(A.contains=[]),A.contains=[].concat(...A.contains.map(function(re){return Hc(re==="self"?A:re)})),A.contains.forEach(function(re){te(re,q)}),A.starts&&te(A.starts,w),q.matcher=ee(q),q}if(d.compilerExtensions||(d.compilerExtensions=[]),d.contains&&d.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return d.classNameAliases=i(d.classNameAliases||{}),te(d)}function Li(d){return d?d.endsWithParent||Li(d.starts):!1}function Hc(d){return d.variants&&!d.cachedVariants&&(d.cachedVariants=d.variants.map(function(b){return i(d,{variants:null},b)})),d.cachedVariants?d.cachedVariants:Li(d)?i(d,{starts:d.starts?i(d.starts):null}):Object.isFrozen(d)?i(d):d}var Uc="11.11.1";class zc extends Error{constructor(b,N){super(b),this.name="HTMLInjectionError",this.html=N}}const nr=n,_i=i,Ii=Symbol("nomatch"),Wc=7,Mi=function(d){const b=Object.create(null),N=Object.create(null),P=[];let ee=!0;const te="Could not find the language '{}', did you forget to load/include a language module?",A={disableAutodetect:!0,name:"Plain text",contains:[]};let w={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:f};function q(S){return w.noHighlightRe.test(S)}function ce(S){let M=S.className+" ";M+=S.parentNode?S.parentNode.className:"";const K=w.languageDetectRe.exec(M);if(K){const V=Ye(K[1]);return V||(Oi(te.replace("{}",K[1])),Oi("Falling back to no-highlight mode for this block.",S)),V?K[1]:"no-highlight"}return M.split(/\s+/).find(V=>q(V)||Ye(V))}function re(S,M,K){let V="",ie="";typeof M=="object"?(V=S,K=M.ignoreIllegals,ie=M.language):(xt("10.7.0","highlight(lang, code, ...args) has been deprecated."),xt("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),ie=S,V=M),K===void 0&&(K=!0);const we={code:V,language:ie};fn("before:highlight",we);const Ve=we.result?we.result:jt(we.language,we.code,K);return Ve.code=we.code,fn("after:highlight",Ve),Ve}function jt(S,M,K,V){const ie=Object.create(null);function we(C,T){return C.keywords[T]}function Ve(){if(!F.keywords){de.addText(J);return}let C=0;F.keywordPatternRe.lastIndex=0;let T=F.keywordPatternRe.exec(J),U="";for(;T;){U+=J.substring(C,T.index);const Y=Re.case_insensitive?T[0].toLowerCase():T[0],he=we(F,Y);if(he){const[Fe,cl]=he;if(de.addText(U),U="",ie[Y]=(ie[Y]||0)+1,ie[Y]<=Wc&&(gn+=cl),Fe.startsWith("_"))U+=T[0];else{const ll=Re.classNameAliases[Fe]||Fe;Me(T[0],ll)}}else U+=T[0];C=F.keywordPatternRe.lastIndex,T=F.keywordPatternRe.exec(J)}U+=J.substring(C),de.addText(U)}function hn(){if(J==="")return;let C=null;if(typeof F.subLanguage=="string"){if(!b[F.subLanguage]){de.addText(J);return}C=jt(F.subLanguage,J,!0,Fi[F.subLanguage]),Fi[F.subLanguage]=C._top}else C=ir(J,F.subLanguage.length?F.subLanguage:null);F.relevance>0&&(gn+=C.relevance),de.__addSublanguage(C._emitter,C.language)}function Ee(){F.subLanguage!=null?hn():Ve(),J=""}function Me(C,T){C!==""&&(de.startScope(T),de.addText(C),de.endScope())}function ji(C,T){let U=1;const Y=T.length-1;for(;U<=Y;){if(!C._emit[U]){U++;continue}const he=Re.classNameAliases[C[U]]||C[U],Fe=T[U];he?Me(Fe,he):(J=Fe,Ve(),J=""),U++}}function qi(C,T){return C.scope&&typeof C.scope=="string"&&de.openNode(Re.classNameAliases[C.scope]||C.scope),C.beginScope&&(C.beginScope._wrap?(Me(J,Re.classNameAliases[C.beginScope._wrap]||C.beginScope._wrap),J=""):C.beginScope._multi&&(ji(C.beginScope,T),J="")),F=Object.create(C,{parent:{value:F}}),F}function Pi(C,T,U){let Y=$(C.endRe,U);if(Y){if(C["on:end"]){const he=new t(C);C["on:end"](T,he),he.isMatchIgnored&&(Y=!1)}if(Y){for(;C.endsParent&&C.parent;)C=C.parent;return C}}if(C.endsWithParent)return Pi(C.parent,T,U)}function rl(C){return F.matcher.regexIndex===0?(J+=C[0],1):(cr=!0,0)}function il(C){const T=C[0],U=C.rule,Y=new t(U),he=[U.__beforeBegin,U["on:begin"]];for(const Fe of he)if(Fe&&(Fe(C,Y),Y.isMatchIgnored))return rl(T);return U.skip?J+=T:(U.excludeBegin&&(J+=T),Ee(),!U.returnBegin&&!U.excludeBegin&&(J=T)),qi(U,C),U.returnBegin?0:T.length}function sl(C){const T=C[0],U=M.substring(C.index),Y=Pi(F,C,U);if(!Y)return Ii;const he=F;F.endScope&&F.endScope._wrap?(Ee(),Me(T,F.endScope._wrap)):F.endScope&&F.endScope._multi?(Ee(),ji(F.endScope,C)):he.skip?J+=T:(he.returnEnd||he.excludeEnd||(J+=T),Ee(),he.excludeEnd&&(J=T));do F.scope&&de.closeNode(),!F.skip&&!F.subLanguage&&(gn+=F.relevance),F=F.parent;while(F!==Y.parent);return Y.starts&&qi(Y.starts,C),he.returnEnd?0:T.length}function al(){const C=[];for(let T=F;T!==Re;T=T.parent)T.scope&&C.unshift(T.scope);C.forEach(T=>de.openNode(T))}let mn={};function Di(C,T){const U=T&&T[0];if(J+=C,U==null)return Ee(),0;if(mn.type==="begin"&&T.type==="end"&&mn.index===T.index&&U===""){if(J+=M.slice(T.index,T.index+1),!ee){const Y=new Error(`0 width match regex (${S})`);throw Y.languageName=S,Y.badRule=mn.rule,Y}return 1}if(mn=T,T.type==="begin")return il(T);if(T.type==="illegal"&&!K){const Y=new Error('Illegal lexeme "'+U+'" for mode "'+(F.scope||"<unnamed>")+'"');throw Y.mode=F,Y}else if(T.type==="end"){const Y=sl(T);if(Y!==Ii)return Y}if(T.type==="illegal"&&U==="")return J+=`
`,1;if(or>1e5&&or>T.index*3)throw new Error("potential infinite loop, way more iterations than matches");return J+=U,U.length}const Re=Ye(S);if(!Re)throw Ce(te.replace("{}",S)),new Error('Unknown language: "'+S+'"');const ol=Fc(Re);let ar="",F=V||ol;const Fi={},de=new w.__emitter(w);al();let J="",gn=0,it=0,or=0,cr=!1;try{if(Re.__emitTokens)Re.__emitTokens(M,de);else{for(F.matcher.considerAll();;){or++,cr?cr=!1:F.matcher.considerAll(),F.matcher.lastIndex=it;const C=F.matcher.exec(M);if(!C)break;const T=M.substring(it,C.index),U=Di(T,C);it=C.index+U}Di(M.substring(it))}return de.finalize(),ar=de.toHTML(),{language:S,value:ar,relevance:gn,illegal:!1,_emitter:de,_top:F}}catch(C){if(C.message&&C.message.includes("Illegal"))return{language:S,value:nr(M),illegal:!0,relevance:0,_illegalBy:{message:C.message,index:it,context:M.slice(it-100,it+100),mode:C.mode,resultSoFar:ar},_emitter:de};if(ee)return{language:S,value:nr(M),illegal:!1,relevance:0,errorRaised:C,_emitter:de,_top:F};throw C}}function rr(S){const M={value:nr(S),illegal:!1,relevance:0,_top:A,_emitter:new w.__emitter(w)};return M._emitter.addText(S),M}function ir(S,M){M=M||w.languages||Object.keys(b);const K=rr(S),V=M.filter(Ye).filter($i).map(Ee=>jt(Ee,S,!1));V.unshift(K);const ie=V.sort((Ee,Me)=>{if(Ee.relevance!==Me.relevance)return Me.relevance-Ee.relevance;if(Ee.language&&Me.language){if(Ye(Ee.language).supersetOf===Me.language)return 1;if(Ye(Me.language).supersetOf===Ee.language)return-1}return 0}),[we,Ve]=ie,hn=we;return hn.secondBest=Ve,hn}function Kc(S,M,K){const V=M&&N[M]||K;S.classList.add("hljs"),S.classList.add(`language-${V}`)}function sr(S){let M=null;const K=ce(S);if(q(K))return;if(fn("before:highlightElement",{el:S,language:K}),S.dataset.highlighted){console.log("Element previously highlighted. To highlight again, first unset `dataset.highlighted`.",S);return}if(S.children.length>0&&(w.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(S)),w.throwUnescapedHTML))throw new zc("One of your code blocks includes unescaped HTML.",S.innerHTML);M=S;const V=M.textContent,ie=K?re(V,{language:K,ignoreIllegals:!0}):ir(V);S.innerHTML=ie.value,S.dataset.highlighted="yes",Kc(S,K,ie.language),S.result={language:ie.language,re:ie.relevance,relevance:ie.relevance},ie.secondBest&&(S.secondBest={language:ie.secondBest.language,relevance:ie.secondBest.relevance}),fn("after:highlightElement",{el:S,result:ie,text:V})}function Gc(S){w=_i(w,S)}const Yc=()=>{pn(),xt("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function Vc(){pn(),xt("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let Ri=!1;function pn(){function S(){pn()}if(document.readyState==="loading"){Ri||window.addEventListener("DOMContentLoaded",S,!1),Ri=!0;return}document.querySelectorAll(w.cssSelector).forEach(sr)}function Jc(S,M){let K=null;try{K=M(d)}catch(V){if(Ce("Language definition for '{}' could not be registered.".replace("{}",S)),ee)Ce(V);else throw V;K=A}K.name||(K.name=S),b[S]=K,K.rawDefinition=M.bind(null,d),K.aliases&&Bi(K.aliases,{languageName:S})}function Xc(S){delete b[S];for(const M of Object.keys(N))N[M]===S&&delete N[M]}function Zc(){return Object.keys(b)}function Ye(S){return S=(S||"").toLowerCase(),b[S]||b[N[S]]}function Bi(S,{languageName:M}){typeof S=="string"&&(S=[S]),S.forEach(K=>{N[K.toLowerCase()]=M})}function $i(S){const M=Ye(S);return M&&!M.disableAutodetect}function Qc(S){S["before:highlightBlock"]&&!S["before:highlightElement"]&&(S["before:highlightElement"]=M=>{S["before:highlightBlock"](Object.assign({block:M.el},M))}),S["after:highlightBlock"]&&!S["after:highlightElement"]&&(S["after:highlightElement"]=M=>{S["after:highlightBlock"](Object.assign({block:M.el},M))})}function el(S){Qc(S),P.push(S)}function tl(S){const M=P.indexOf(S);M!==-1&&P.splice(M,1)}function fn(S,M){const K=S;P.forEach(function(V){V[K]&&V[K](M)})}function nl(S){return xt("10.7.0","highlightBlock will be removed entirely in v12.0"),xt("10.7.0","Please use highlightElement now."),sr(S)}Object.assign(d,{highlight:re,highlightAuto:ir,highlightAll:pn,highlightElement:sr,highlightBlock:nl,configure:Gc,initHighlighting:Yc,initHighlightingOnLoad:Vc,registerLanguage:Jc,unregisterLanguage:Xc,listLanguages:Zc,getLanguage:Ye,registerAliases:Bi,autoDetection:$i,inherit:_i,addPlugin:el,removePlugin:tl}),d.debugMode=function(){ee=!1},d.safeMode=function(){ee=!0},d.versionString=Uc,d.regex={concat:m,lookahead:g,either:y,optional:v,anyNumberOfTimes:h};for(const S in _e)typeof _e[S]=="object"&&e(_e[S]);return Object.assign(d,_e),d},St=Mi({});return St.newInstance=()=>Mi({}),zn=St,St.HighlightJS=St,St.default=St,zn}var Uo=Ho();const Lt=Fo(Uo);function zo(e){const t=e.regex,n={},i={begin:/\$\{/,end:/\}/,contains:["self",{begin:/:-/,contains:[n]}]};Object.assign(n,{className:"variable",variants:[{begin:t.concat(/\$[\w\d#@][\w\d_]*/,"(?![\\w\\d])(?![$])")},i]});const r={className:"subst",begin:/\$\(/,end:/\)/,contains:[e.BACKSLASH_ESCAPE]},s=e.inherit(e.COMMENT(),{match:[/(^|\s)/,/#.*$/],scope:{2:"comment"}}),a={begin:/<<-?\s*(?=\w+)/,starts:{contains:[e.END_SAME_AS_BEGIN({begin:/(\w+)/,end:/(\w+)/,className:"string"})]}},o={className:"string",begin:/"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,n,r]};r.contains.push(o);const l={match:/\\"/},u={className:"string",begin:/'/,end:/'/},f={match:/\\'/},p={begin:/\$?\(\(/,end:/\)\)/,contains:[{begin:/\d+#[0-9a-f]+/,className:"number"},e.NUMBER_MODE,n]},g=["fish","bash","zsh","sh","csh","ksh","tcsh","dash","scsh"],h=e.SHEBANG({binary:`(${g.join("|")})`,relevance:10}),v={className:"function",begin:/\w[\w\d_]*\s*\(\s*\)\s*\{/,returnBegin:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/\w[\w\d_]*/})],relevance:0},m=["if","then","else","elif","fi","time","for","while","until","in","do","done","case","esac","coproc","function","select"],E=["true","false"],y={match:/(\/[a-z._-]+)+/},x=["break","cd","continue","eval","exec","exit","export","getopts","hash","pwd","readonly","return","shift","test","times","trap","umask","unset"],$=["alias","bind","builtin","caller","command","declare","echo","enable","help","let","local","logout","mapfile","printf","read","readarray","source","sudo","type","typeset","ulimit","unalias"],O=["autoload","bg","bindkey","bye","cap","chdir","clone","comparguments","compcall","compctl","compdescribe","compfiles","compgroups","compquote","comptags","comptry","compvalues","dirs","disable","disown","echotc","echoti","emulate","fc","fg","float","functions","getcap","getln","history","integer","jobs","kill","limit","log","noglob","popd","print","pushd","pushln","rehash","sched","setcap","setopt","stat","suspend","ttyctl","unfunction","unhash","unlimit","unsetopt","vared","wait","whence","where","which","zcompile","zformat","zftp","zle","zmodload","zparseopts","zprof","zpty","zregexparse","zsocket","zstyle","ztcp"],I=["chcon","chgrp","chown","chmod","cp","dd","df","dir","dircolors","ln","ls","mkdir","mkfifo","mknod","mktemp","mv","realpath","rm","rmdir","shred","sync","touch","truncate","vdir","b2sum","base32","base64","cat","cksum","comm","csplit","cut","expand","fmt","fold","head","join","md5sum","nl","numfmt","od","paste","ptx","pr","sha1sum","sha224sum","sha256sum","sha384sum","sha512sum","shuf","sort","split","sum","tac","tail","tr","tsort","unexpand","uniq","wc","arch","basename","chroot","date","dirname","du","echo","env","expr","factor","groups","hostid","id","link","logname","nice","nohup","nproc","pathchk","pinky","printenv","printf","pwd","readlink","runcon","seq","sleep","stat","stdbuf","stty","tee","test","timeout","tty","uname","unlink","uptime","users","who","whoami","yes"];return{name:"Bash",aliases:["sh","zsh"],keywords:{$pattern:/\b[a-z][a-z0-9._-]+\b/,keyword:m,literal:E,built_in:[...x,...$,"set","shopt",...O,...I]},contains:[h,e.SHEBANG(),v,p,s,a,y,o,l,u,f,n]}}function Wo(e){const s={keyword:["break","case","chan","const","continue","default","defer","else","fallthrough","for","func","go","goto","if","import","interface","map","package","range","return","select","struct","switch","type","var"],type:["bool","byte","complex64","complex128","error","float32","float64","int8","int16","int32","int64","string","uint8","uint16","uint32","uint64","int","uint","uintptr","rune"],literal:["true","false","iota","nil"],built_in:["append","cap","close","complex","copy","imag","len","make","new","panic","print","println","real","recover","delete"]};return{name:"Go",aliases:["golang"],keywords:s,illegal:"</",contains:[e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"string",variants:[e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,{begin:"`",end:"`"}]},{className:"number",variants:[{match:/-?\b0[xX]\.[a-fA-F0-9](_?[a-fA-F0-9])*[pP][+-]?\d(_?\d)*i?/,relevance:0},{match:/-?\b0[xX](_?[a-fA-F0-9])+((\.([a-fA-F0-9](_?[a-fA-F0-9])*)?)?[pP][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b0[oO](_?[0-7])*i?/,relevance:0},{match:/-?\.\d(_?\d)*([eE][+-]?\d(_?\d)*)?i?/,relevance:0},{match:/-?\b\d(_?\d)*(\.(\d(_?\d)*)?)?([eE][+-]?\d(_?\d)*)?i?/,relevance:0}]},{begin:/:=/},{className:"function",beginKeywords:"func",end:"\\s*(\\{|$)",excludeEnd:!0,contains:[e.TITLE_MODE,{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:s,illegal:/["']/}]}]}}function Ko(e){const t={className:"attr",begin:/"(\\.|[^\\"\r\n])*"(?=\s*:)/,relevance:1.01},n={match:/[{}[\],:]/,className:"punctuation",relevance:0},i=["true","false","null"],r={scope:"literal",beginKeywords:i.join(" ")};return{name:"JSON",aliases:["jsonc"],keywords:{literal:i},contains:[t,n,e.QUOTE_STRING_MODE,r,e.C_NUMBER_MODE,e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE],illegal:"\\S"}}function Go(e){const t=e.regex,n=/[\p{XID_Start}_]\p{XID_Continue}*/u,i=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],o={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:i,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},l={className:"meta",begin:/^(>>>|\.\.\.) /},u={className:"subst",begin:/\{/,end:/\}/,keywords:o,illegal:/#/},f={begin:/\{\{/,relevance:0},p={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,l],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,l,f,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,l,f,u]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,f,u]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,f,u]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},g="[0-9](_?[0-9])*",h=`(\\b(${g}))?\\.(${g})|\\b(${g})\\.`,v=`\\b|${i.join("|")}`,m={className:"number",relevance:0,variants:[{begin:`(\\b(${g})|(${h}))[eE][+-]?(${g})[jJ]?(?=${v})`},{begin:`(${h})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${v})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${v})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${v})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${v})`},{begin:`\\b(${g})[jJ](?=${v})`}]},E={className:"comment",begin:t.lookahead(/# type:/),end:/$/,keywords:o,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},y={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:o,contains:["self",l,m,p,e.HASH_COMMENT_MODE]}]};return u.contains=[p,m,l],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:o,illegal:/(<\/|\?)|=>/,contains:[l,m,{scope:"variable.language",match:/\bself\b/},{beginKeywords:"if",relevance:0},{match:/\bor\b/,scope:"keyword"},p,E,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[y]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[m,y,p]}]}}Lt.registerLanguage("bash",zo),Lt.registerLanguage("go",Wo),Lt.registerLanguage("json",Ko),Lt.registerLanguage("python",Go);const Yo={curl:"bash",go:"go",json:"json",py:"python",python:"python"},Vo=new Set(["bash","curl","go","json","py","python"]);function Wn(e,t){if(t==="plaintext"||t===""||!Vo.has(t))return Fr(e);const n=Yo[t]??(Dr(e)?"json":"bash");try{return Lt.highlight(e,{language:n}).value}catch{return Fr(e)}}function Jo(e,t){const n=t.schema;if(t.required&&(!e||e.trim()===""))return{valid:!1,message:"Required field"};if(!e||e.trim()==="")return{valid:!0};if(!n)return{valid:!0};if(n.type==="integer"){if(!/^-?\d+$/.test(e.trim()))return{valid:!1,message:"Must be an integer"};const i=parseInt(e,10);return di(i,n)}if(n.type==="number"){if(isNaN(Number(e.trim())))return{valid:!1,message:"Must be a number"};const i=parseFloat(e);return di(i,n)}if(n.type==="boolean"&&!["true","false","1","0"].includes(e.trim().toLowerCase()))return{valid:!1,message:"Must be true or false"};if(n.enum&&n.enum.length>0&&!n.enum.some(i=>String(i)===e.trim()))return{valid:!1,message:`Allowed: ${n.enum.map(String).join(", ")}`};if(n.type==="string"||!n.type){if(n.minLength!==void 0&&e.length<n.minLength)return{valid:!1,message:`Min length: ${n.minLength}`};if(n.maxLength!==void 0&&e.length>n.maxLength)return{valid:!1,message:`Max length: ${n.maxLength}`};if(n.pattern)try{if(!new RegExp(n.pattern).test(e))return{valid:!1,message:`Must match pattern: ${n.pattern}`}}catch{}}return{valid:!0}}function di(e,t){return t.minimum!==void 0&&e<t.minimum?{valid:!1,message:`Minimum: ${t.minimum}`}:t.maximum!==void 0&&e>t.maximum?{valid:!1,message:`Maximum: ${t.maximum}`}:{valid:!0}}function Xo(e,t,n,i){if(i&&(!e||e.trim()===""))return{valid:!1,message:"Request body is required"};if(!e||e.trim()==="")return{valid:!0};if(t.includes("json"))try{JSON.parse(e)}catch(r){return{valid:!1,message:`Invalid JSON: ${r instanceof Error?r.message:"Invalid JSON"}`}}return{valid:!0}}function Zo(e,t){const n=[];if(e.querySelectorAll("[data-param-name]").forEach(r=>{const s=r.getAttribute("data-param-name"),a=t.parameters.find(l=>l.name===s);if(!a)return;const o=Jo(r.value,a);o.valid||n.push({field:s,message:o.message||"Invalid",kind:"param"})}),t.requestBody){const s=Object.keys(t.requestBody.content||{})[0]||"application/json",a=t.requestBody.content?.[s]?.schema,l=e.querySelector('[data-field="body"]')?.value||"";if(!s.includes("multipart")){const u=Xo(l,s,a,t.requestBody.required);u.valid||n.push({field:"body",message:u.message||"Invalid body",kind:"body"})}}return n}function Qo(e){e.querySelectorAll(".validation-error").forEach(t=>{t.textContent="",t.classList.remove("visible")}),e.querySelectorAll(".invalid").forEach(t=>{t.classList.remove("invalid")})}function ec(e,t){for(const n of t){const i=e.querySelector(`[data-error-for="${n.field}"]`);if(i&&(i.textContent=n.message,i.classList.add("visible")),n.kind==="param"){const r=e.querySelector(`[data-param-name="${n.field}"]`);r&&r.classList.add("invalid")}else if(n.kind==="body"){const r=e.querySelector('[data-field="body"]');r&&r.classList.add("invalid")}}}function pi(e){return c("span",{className:"validation-error","data-error-for":e})}const tc=60;function Qe(e){e.style.height="0",e.style.height=Math.max(tc,e.scrollHeight)+"px"}function fi(e,t){t.scrollTop=e.scrollTop,t.scrollLeft=e.scrollLeft}function hi(e,t,n){const i=c("div",{className:"body-editor"}),r=c("pre",{className:"body-highlight"}),s=c("code",{className:"hljs"});r.append(s);const a=c("textarea",{className:"textarea-json",spellcheck:"false",...n?.dataField?{"data-field":n.dataField}:{}});a.value=e,s.innerHTML=Wn(e||" ",t),Qe(a);const o=(l,u)=>{s.innerHTML=Wn((l??a.value)||" ",u??t)};return a.addEventListener("input",()=>{o(),fi(a,r),Qe(a),n?.onInput?.()}),a.addEventListener("scroll",()=>fi(a,r)),i.append(r,a),{wrap:i,textarea:a,setValue:(l,u)=>{a.value=l,o(l,u??t),Qe(a)}}}const nc=1500;function _t(e){const t=e.ariaLabel||"Copy",n=e.copiedAriaLabel||"Copied",i=Oe({variant:"icon",icon:H.copy,ariaLabel:t,className:e.className,onClick:async()=>{const r=await e.getText();await Qa(r),i.innerHTML=H.check,i.setAttribute("aria-label",n),e.onCopied?.(),setTimeout(()=>{i.innerHTML=H.copy,i.setAttribute("aria-label",t)},nc)}});return i}function rc(e,t,n,i){fe(t),t.classList.add("try-it");const r=c("div",{className:"body"}),s=c("div",{className:"block section"});s.append(c("h2",{textContent:"Response"}));const a=c("div",{"data-response":"true"});if(n)Kn(a,{status:parseInt(n.statusCode,10)||200,statusText:n.statusText||"OK",headers:{},body:n.body,duration:0,size:0});else{const l=c("div",{className:"placeholder"});l.append(c("span",{textContent:"Выполните запрос, чтобы увидеть ответ"})),a.append(l)}s.append(a),r.append(ic(e,t,{onConfigChange:i?.onConfigChange,onSendRequest:async l=>{Qo(t);const u=Zo(t,e);if(u.length>0){ec(t,u);return}const f=Ke(t,e);l.setAttribute("disabled",""),l.innerHTML="",l.append(c("span",{className:"spinner spinner-sm"}),c("span",null,"Sending..."));try{const p=await Io(f);Kn(a,p)}catch(p){Kn(a,{status:0,headers:{},body:p.message,duration:0,size:0})}finally{l.removeAttribute("disabled"),l.innerHTML=H.send,l.append(c("span",null,"Send Request"))}}})),r.append(s),t.append(r);const o=t.querySelector('textarea[data-field="body"]');o&&requestAnimationFrame(()=>{requestAnimationFrame(()=>Qe(o))})}function ic(e,t,n){const i=n?.onConfigChange,r=e.parameters.filter(B=>B.in==="path"),s=e.parameters.filter(B=>B.in==="query"),a=Po([...r,...s]),o="Request",l=Un({method:e.method,url:"",headers:{},body:e.requestBody?"{ ... }":void 0}),u=()=>{const B=Ke(t,e);let G;return typeof B.body=="string"?G=B.body:B.body instanceof FormData?G="{ /* multipart form-data */ }":e.requestBody&&(G="{ ... }"),{method:B.method,url:B.url,headers:B.headers||{},body:G}},f=()=>{const B=Ke(t,e);if(typeof B.body=="string")return B.body;if(B.body instanceof FormData){const G=[];return B.body.forEach((ue,Se)=>{if(ue instanceof File){G.push(`${Se}: [File ${ue.name}]`);return}G.push(`${Se}: ${String(ue)}`)}),G.join(`
`)}return""},p=(B,G)=>{const ue=u(),Se=Un(ue),tt=Se[G]||Se[0];tt&&B.setValue(tt.code,tt.language)},g=c("div",{className:"block section tabs-code"}),h=c("div",{className:"body"}),v=c("h2",{textContent:"Request"});g.append(v,h);const m=c("div",{className:"controls"});let E=!1;a.length>1&&(r.length>0||s.length>0)&&(m.append(Gt({options:a.map(B=>({value:B.name,label:B.summary||B.name})),value:a[0].name,ariaLabel:"Select example",className:"example-select",onChange:B=>{const G=a.find(ue=>ue.name===B);G&&(sc(t,G.values),t.dispatchEvent(new Event("input",{bubbles:!0})))}})),E=!0);const y=k.get(),x=c("div",{className:"card"}),$=c("div",{className:"card-head"}),O=c("div",{className:"tabs tabs-code"}),I=[];let D=0,_=null,j=null,W=null;{const B=Yt(o,{active:!0,context:!0});if(I.push(B),W=c("div",{className:"panel is-request","data-tab":"first"}),r.length>0||s.length>0){const Z=c("div",{className:"params-group"});if(Z.append(c("h3",{textContent:"Parameters"})),r.length>0){const Q=c("div",{className:"params-group"});s.length>0&&Q.append(c("h3",{textContent:"Path"}));for(const ke of r)Q.append(gi(ke,a[0]?.values[ke.name]));Z.append(Q)}if(s.length>0){const Q=c("div",{className:"params-group"});r.length>0&&Q.append(c("h3",{textContent:"Query"}));for(const ke of s)Q.append(gi(ke,a[0]?.values[ke.name]));Z.append(Q)}W.append(Z)}{const Z=c("div",{className:"route-preview"}),Q=c("div",{className:"field-header"});Q.append(c("h3",{textContent:"URL"}));const ke=_t({ariaLabel:"Copy URL",className:"route-copy-btn",getText:()=>_?.value||Ke(t,e).url});_=We({type:"text",ariaLabel:"Request URL",readOnly:!0,modifiers:["filled"],className:"route-input"});const _e=c("div",{className:"route-input-row"});_e.append(_,ke),Z.append(Q,_e),j=Z}if(e.requestBody){const Z=c("div",{className:"body-section"}),Q=c("div",{className:"field-header"});Q.append(c("h3",{textContent:"Body"}));const ke=_t({ariaLabel:"Copy body",className:"field-copy-btn",getText:f});Q.append(ke),Z.append(Q);const mt=Object.keys(e.requestBody.content||{})[0]||"application/json",tr=mt.includes("multipart"),gt=e.requestBody.content?.[mt];if(tr&&gt?.schema){const Ie=c("div",{className:"multipart","data-field":"multipart"}),nt=gt.schema,Bt=nt.properties||{},vt=nt.required||[];for(const[De,ye]of Object.entries(Bt)){const rt=ye.format==="binary"||ye.format==="base64"||ye.type==="string"&&ye.format==="binary",bt=vt.includes(De),$t=c("div",{className:`params row${bt?" is-required":""}`}),yt=c("span",{className:"label",textContent:De});if(bt&&yt.append(R({text:"*",kind:"required",size:"s"})),rt){const Ce=c("input",{type:"file","data-multipart-field":De,"data-multipart-type":"file"});$t.append(yt,Ce)}else{const Ce=We({placeholder:ye.description||De,value:ye.default!==void 0?String(ye.default):"",dataAttrs:{multipartField:De,multipartType:"text"}});$t.append(yt,Ce)}Ie.append($t)}Z.append(Ie)}else{const Ie=gt?ci(gt):[],nt=Ie[0],Bt=nt?li(nt.value):"",vt=hi(Bt,"json",{dataField:"body",onInput:()=>i?.(Ke(t,e))});if(Z.append(vt.wrap),Ie.length>1){const De=Gt({options:Ie.map(ye=>({value:ye.name,label:Do(ye)})),value:Ie[0].name,ariaLabel:"Select example",className:"example-select",onChange:ye=>{const rt=Ie.find(bt=>bt.name===ye);rt&&(vt.setValue(li(rt.value),"json"),i?.(Ke(t,e)))}});m.append(De),E=!0}}Z.append(pi("body")),W.append(Z)}const G=c("div",{className:"headers-section"}),ue=c("div",{className:"field-header"});ue.append(c("h3",{textContent:"Headers"}));const Se=c("div",{className:"headers-list"});if(e.requestBody){const Q=Object.keys(e.requestBody.content||{})[0]||"application/json";Se.append(It("Content-Type",Q))}if(le(e.resolvedSecurity)&&y.spec){const Z=qn(e.resolvedSecurity,y.spec.securitySchemes),ke={...Pn(e.resolvedSecurity,y.spec.securitySchemes),...Z};for(const[_e,mt]of Object.entries(ke))Se.append(It(_e,mt))}for(const Z of e.parameters.filter(Q=>Q.in==="header"))Se.append(It(Z.name,String(Z.example||"")));const tt=Oe({variant:"icon",icon:H.plus,ariaLabel:"Add header",className:"field-copy-btn",onClick:()=>Se.append(It("",""))});ue.append(tt),G.append(ue,Se),W.append(G)}const X=u(),z=Un(X),xe=hi(z[0]?.code??"",z[0]?.language),et=c("div",{className:"panel","data-tab":"lang"}),Ge=c("div",{className:"body-section"}),Mt=c("div",{className:"field-header"});Mt.append(c("h3",{textContent:"Code Example"}));const Qn=_t({ariaLabel:"Copy code",className:"field-copy-btn",getText:()=>xe.textarea.value});Mt.append(Qn),Ge.append(Mt,xe.wrap),et.append(Ge);for(let B=0;B<l.length;B++){const G=l[B],ue=Yt(G.label,{active:!o});I.push(ue)}$.append(O);const er=W?[W,et]:[et],Pe=(B,G)=>{if(!G){B.style.display="none";return}B.style.display=B.classList.contains("is-request")?"flex":"block"};for(let B=0;B<I.length;B++){O.append(I[B]);const G=B;I[B].addEventListener("click",()=>{I.forEach(ue=>ue.classList.remove("is-active")),I[G].classList.add("is-active"),D=G,W&&Pe(W,G===0),Pe(et,G!==0),G>0&&p(xe,G-1)})}const ln=c("div",{className:"card-content flush"}),un=c("div",{className:"panels"});if(W&&Pe(W,!0),Pe(et,!1),un.append(...er),ln.append(un),n?.onSendRequest){const B=Oe({variant:"primary",icon:H.send,label:"Send Request",className:"send-btn"});B.addEventListener("click",()=>n.onSendRequest(B));{j&&W?.append(j);const G=c("div",{className:"send-inline"});G.append(B),W?.append(G)}}!n?.onSendRequest&&o&&j&&W?.append(j),E&&h.append(m),x.append($,ln),h.append(x);const Rt=()=>{_&&(_.value=Ke(t,e).url),i?.(Ke(t,e)),(D>0||!o)&&p(xe,D-1)};return t.addEventListener("input",Rt),t.addEventListener("change",Rt),Rt(),requestAnimationFrame(()=>{const B=t.querySelector('textarea[data-field="body"]');B&&Qe(B)}),g}function mi(e,t){return t!==void 0?t:e.example!==void 0&&e.example!==null?String(e.example):e.schema?.example!==void 0&&e.schema.example!==null?String(e.schema.example):e.schema?.default!==void 0&&e.schema.default!==null?String(e.schema.default):e.schema?.enum&&e.schema.enum.length>0?String(e.schema.enum[0]):e.schema?.type==="integer"||e.schema?.type==="number"?"0":e.schema?.type==="boolean"?"true":e.in==="path"?"id":"value"}function sc(e,t){e.querySelectorAll("[data-param-name]").forEach(i=>{const r=i.getAttribute("data-param-name");r&&t[r]!==void 0&&(i.value=t[r])})}function gi(e,t){const n=c("div",{className:`params row${e.required?" is-required":""}`}),i=c("span",{className:"label",textContent:e.name});e.required&&i.append(R({text:"*",kind:"required",size:"s"}));const r=e.schema;let s;if(r?.enum&&r.enum.length>0){const o=e.required?r.enum.map(u=>({value:String(u),label:String(u)})):[{value:"",label:"— select —"},...r.enum.map(u=>({value:String(u),label:String(u)}))];s=Gt({options:o,value:mi(e,t),dataAttrs:{paramName:e.name,paramIn:e.in}})}else{const o=r?.type==="integer"||r?.type==="number"?"number":"text",l=We({type:o,placeholder:e.description||e.name,value:mi(e,t),dataAttrs:{paramName:e.name,paramIn:e.in}});r?.type==="integer"&&l.setAttribute("step","1"),r?.minimum!==void 0&&l.setAttribute("min",String(r.minimum)),r?.maximum!==void 0&&l.setAttribute("max",String(r.maximum)),s=l}const a=pi(e.name);return n.append(i,s,a),n}function It(e,t){const n=c("div",{className:"header-row"}),i=We({placeholder:"Header name",value:e,dataAttrs:{headerName:"true"}}),r=We({placeholder:"Value",value:t,dataAttrs:{headerValue:"true"}}),s=Oe({variant:"icon",icon:H.close,ariaLabel:"Remove header",className:"header-remove-btn",onClick:()=>n.remove()});return n.append(i,r,s),n}function Ke(e,t){const n=k.get(),i=Wt(n),r=e.querySelectorAll('[data-param-in="path"]'),s={};r.forEach(h=>{s[h.getAttribute("data-param-name")]=h.value});const a=e.querySelectorAll('[data-param-in="query"]'),o={};if(a.forEach(h=>{const v=h.getAttribute("data-param-name");h.value&&(o[v]=h.value)}),n.spec&&le(t.resolvedSecurity)){const h=ho(t.resolvedSecurity,n.spec.securitySchemes);for(const[v,m]of Object.entries(h))v in o||(o[v]=m)}const l=e.querySelectorAll(".header-row"),u={};if(l.forEach(h=>{const v=h.querySelector("[data-header-name]"),m=h.querySelector("[data-header-value]");v?.value&&m?.value&&(u[v.value]=m.value)}),n.spec&&le(t.resolvedSecurity)){const h=mo(t.resolvedSecurity,n.spec.securitySchemes),v=Object.entries(h).map(([m,E])=>`${m}=${E}`);if(v.length>0){const m=u.Cookie||u.cookie||"";u.Cookie=m?`${m}; ${v.join("; ")}`:v.join("; "),delete u.cookie}}const f=e.querySelector('[data-field="multipart"]');let p;if(f){const h=new FormData;f.querySelectorAll("[data-multipart-field]").forEach(m=>{const E=m.getAttribute("data-multipart-field"),y=m.getAttribute("data-multipart-type");y==="file"&&m.files&&m.files.length>0?h.append(E,m.files[0]):y==="text"&&m.value&&h.append(E,m.value)}),p=h,delete u["Content-Type"]}else p=e.querySelector('[data-field="body"]')?.value||void 0;const g=Ro(i,t.path,s,o);return{method:t.method,url:g,headers:u,body:p}}function Kn(e,t){fe(e);const n=c("div",{className:"card"}),i=c("div",{className:"card-head response-header"}),r=Yt("Body",{active:!0}),s=Yt(`Headers (${Object.keys(t.headers).length})`),a=c("div",{className:"tabs tabs-code"});a.append(r,s);const o=c("div",{className:"meta",innerHTML:`<span>${to(t.duration)}</span><span>${eo(t.size)}</span>`}),l=R({text:String(t.status),kind:"status",statusCode:String(t.status),size:"m"}),u=_t({ariaLabel:"Copy response",getText:()=>t.body,onCopied:()=>oc("Response copied")});i.append(a,o,l,u),n.append(i);const f=c("div",{className:"card-content flush"}),p=c("div",{className:"response-pane"}),g=c("div",{className:"pane-inner"}),h=c("pre",{className:"code-display"}),v=c("code",{className:"hljs"}),m=ac(t.body);v.innerHTML=Wn(m,Dr(m)?"json":""),h.append(v),g.append(h),p.append(g);const E=c("div",{className:"response-pane",style:"display:none"}),y=c("div",{className:"pane-inner"}),x=c("textarea",{readonly:!0,wrap:"off",spellcheck:"false"});x.value=Object.entries(t.headers).map(([$,O])=>`${$}: ${O}`).join(`
`),Qe(x),y.append(x),E.append(y),f.append(p,E),n.append(f),r.addEventListener("click",()=>{r.classList.add("is-active"),s.classList.remove("is-active"),p.style.display="block",E.style.display="none"}),s.addEventListener("click",()=>{s.classList.add("is-active"),r.classList.remove("is-active"),p.style.display="none",E.style.display="block",requestAnimationFrame(()=>Qe(x))}),e.append(n)}function ac(e,t){try{return JSON.stringify(JSON.parse(e),null,2)}catch{return e}}function oc(e){const t=document.querySelector(".copy-toast");t&&t.remove();const n=c("div",{className:"copy-toast",textContent:e});document.body.append(n),setTimeout(()=>n.remove(),2e3)}function vi(e){const{prev:t,next:n}=cc(e);if(!t&&!n)return null;const i=c("div",{className:`route-nav${!t||!n?" is-single":""}`});return t&&i.append(bi(t,"previous")),n&&i.append(bi(n,"next")),i}function bi(e,t){const n=ae(e.route),i=c("a",{className:`card interactive route-card ${t==="previous"?"is-prev":"is-next"}`,href:n}),r=c("div",{className:"route-meta"});e.kind==="endpoint"?(r.append(R({text:e.operation.method.toUpperCase(),kind:"method",method:e.operation.method})),r.append(c("span",{className:"route-path",textContent:e.operation.path}))):(r.append(R({text:"WEBHOOK",kind:"webhook",size:"s"})),r.append(R({text:e.webhook.method.toUpperCase(),kind:"method",method:e.webhook.method})));const s=c("span",{className:"route-side","aria-hidden":"true"});s.innerHTML=t==="previous"?H.chevronLeft:H.chevronRight;const a=c("div",{className:"route-main"});return a.append(c("span",{className:"route-category",textContent:e.category}),c("span",{className:"route-title",textContent:e.title}),r),t==="previous"?i.append(s,a):i.append(a,s),i.addEventListener("click",o=>{o.preventDefault(),se(n)}),i}function cc(e){if(!k.get().spec)return{prev:null,next:null};const n=lc();if(n.length===0)return{prev:null,next:null};const i=uc(n,e);return i<0?{prev:null,next:null}:{prev:i>0?n[i-1]:null,next:i<n.length-1?n[i+1]:null}}function lc(){const e=k.get().spec;if(!e)return[];const t=[],n=new Set;for(const i of e.tags)for(const r of i.operations){const s=`${r.method.toLowerCase()} ${r.path}`;n.has(s)||(n.add(s),t.push({kind:"endpoint",route:{type:"endpoint",tag:i.name,method:r.method,path:r.path,operationId:r.operationId},operation:r,title:r.summary||r.path,category:i.name}))}for(const i of e.webhooks||[])t.push({kind:"webhook",route:{type:"webhook",webhookName:i.name},webhook:i,title:i.summary||i.name,category:"Webhooks"});return t}function uc(e,t){return t.type==="endpoint"?e.findIndex(n=>n.kind==="endpoint"&&n.route.method===t.method&&n.route.path===t.path):t.type==="webhook"?e.findIndex(n=>n.kind==="webhook"&&n.route.webhookName===t.webhookName):-1}async function dc(e,t,n){fe(e),fe(t);const i=t.parentElement;i&&(i.setAttribute("aria-label","Try It"),i.classList.add("try-it"));const r=k.get(),s=ro(r),a=Hr(r),o=s+(n.path.startsWith("/")?"":"/")+n.path,l=[],u=R({text:n.method.toUpperCase(),kind:"method",method:n.method,size:"m"});l.push({label:a||r.spec?.info.title||"Главная",href:"/",className:"breadcrumb-item",onClick:_=>{_.preventDefault(),se("/")}});const f=new Set((r.spec?.tags||[]).map(_=>_.name.toLowerCase())),p=(n.path||"/").split("/").filter(Boolean);for(const _ of p){const j=_.startsWith("{")&&_.endsWith("}"),W=!j&&f.has(_.toLowerCase()),X=r.spec?.tags.find(z=>z.name.toLowerCase()===_.toLowerCase());W&&X?l.push({label:_,href:ae({type:"tag",tag:X.name}),className:"breadcrumb-item breadcrumb-segment",onClick:z=>{z.preventDefault(),se(ae({type:"tag",tag:X.name}))}}):l.push({label:_,className:j?"breadcrumb-param":"breadcrumb-segment"})}const g=_t({ariaLabel:"Copy URL",copiedAriaLabel:"Copied",className:"breadcrumb-copy",getText:()=>`${n.method.toUpperCase()} ${o}`}),h=In(l,{leading:[u],trailing:[g]}),v=c("div",{className:"block header"});if(v.append(c("h1",{textContent:n.summary||`${n.method.toUpperCase()} ${n.path}`})),n.deprecated){const _=c("span",{className:"icon-muted"});_.innerHTML=H.warning,v.append(c("div",{},c("span",{className:"endpoint-meta deprecated"},_,"Deprecated")))}if(le(n.resolvedSecurity)){const _=yc(r,n),j=ur(n.resolvedSecurity)||"Auth required",W=Mn({configured:_,variant:"endpoint",title:st(n.resolvedSecurity)});v.append(c("span",{className:`endpoint-meta auth${_?" is-active":""}`,title:st(n.resolvedSecurity),"aria-label":st(n.resolvedSecurity)},W,j))}const m=c("div",{className:"breadcrumb-wrap"});m.append(h),v.append(m),n.description&&v.append(c("p",{textContent:n.description})),e.append(v);const E=pc(n);E&&e.append(E);const y=n.parameters.filter(_=>_.in!=="cookie"),x=ve({title:"Request"});if(y.length>0&&x.append(fc(y)),n.requestBody&&x.append(hc(n)),y.length===0&&!n.requestBody){const _=c("div",{className:"params empty",textContent:"Параметры и тело запроса не требуются"});x.append(_)}e.append(x);let $=!1;Object.keys(n.responses).length>0&&(e.append(gc(n)),$=!0);const O=vi({type:"endpoint",method:n.method,path:n.path}),I=()=>{O&&e.append(c("div",{className:"block section"},O))};$&&I(),n.callbacks&&n.callbacks.length>0&&e.append(vc(n)),$||I();const D=bc(n);rc(n,t,D)}function pc(e){const t=[];if(e.requestBody){const o=Object.keys(e.requestBody.content||{});t.push({name:"Content-Type",value:o[0]||"application/json",description:"Media type for request body payload",required:!!e.requestBody?.required})}if(le(e.resolvedSecurity)){const o=k.get().spec,l=o?qn(e.resolvedSecurity,o.securitySchemes):{},f={...o?Pn(e.resolvedSecurity,o.securitySchemes):{},...l};for(const[p,g]of Object.entries(f))t.push({name:p,value:g,description:"Authentication header value",required:!0})}for(const o of e.parameters.filter(l=>l.in==="header"))t.push({name:o.name,value:String(o.schema?.default??o.example??""),description:o.description,required:o.required});if(t.length===0)return null;const n=t.map(o=>{const l=c("div",{className:"schema-row role-flat role-headers"}),u=c("div",{className:"schema-main-row"}),f=c("div",{className:"schema-name-wrapper"});f.append(c("span",{className:"schema-spacer"}),c("span",{textContent:o.name}));const p=c("div",{className:"schema-meta-wrapper"});o.required&&p.append(R({text:"required",kind:"required",size:"m"})),u.append(f,p),l.append(u);const g=c("div",{className:"schema-desc-col is-root"});o.description&&g.append(c("p",{textContent:o.description}));const h=c("div",{className:"schema-enum-values"});return h.append(R({text:o.value||"—",kind:"chip",size:"s"})),g.append(h),g.children.length>0&&l.append(g),l}),i=$e(),r=Vt(),s=c("div",{className:"params"}),a=c("div",{className:"body role-headers"});return a.append(...n),s.append(a),r.append(s),i.append(r),ve({title:"Headers"},i)}function fc(e){const t=e.filter(r=>r.in==="path").length,n=e.filter(r=>r.in==="query").length,i=t>0&&n>0?"Parameters":t>0?"Path":"Query";return ri(e,{headerTitle:i,withEnumAndDefault:!0})}function hc(e){const t=c("div",{className:"request-body-wrap"});e.requestBody?.description&&t.append(c("p",{textContent:e.requestBody.description}));const n=e.requestBody?.content||{};for(const[i,r]of Object.entries(n))if(r.schema){const s=Ln({title:"Body"});s.append(R({text:i,kind:"chip",size:"s"})),t.append(ft(r.schema,s))}return t}function mc(e){const t=Object.entries(e);if(t.length===0)return null;const n=t.map(([a,o])=>{const l=o.schema?Tt(o.schema):"string",u=o.example!==void 0?String(o.example):o.schema?.example!==void 0?String(o.schema.example):"—",f=c("div",{className:"schema-row role-flat role-headers"}),p=c("div",{className:"schema-main-row"}),g=c("div",{className:"schema-name-wrapper"});g.append(c("span",{className:"schema-spacer"}),c("span",{textContent:a}));const h=c("div",{className:"schema-meta-wrapper"});h.append(R({text:l,kind:"chip",size:"s"})),o.required&&h.append(R({text:"required",kind:"required",size:"m"})),p.append(g,h),f.append(p);const v=c("div",{className:"schema-desc-col is-root"});o.description&&v.append(c("p",{textContent:o.description}));const m=c("div",{className:"schema-enum-values"});return m.append(R({text:u,kind:"chip",size:"s"})),v.append(m),v.children.length>0&&f.append(v),f}),i=c("div",{className:"params block"}),r=c("div",{className:"title",textContent:"Headers"}),s=c("div",{className:"body role-headers"});return s.append(...n),i.append(r,s),i}function gc(e){const t=ve({titleEl:_n("Responses")}),n=Object.entries(e.responses);if(n.length===0)return t;const i=$e(),r=c("div",{className:"card-row responses-header-row"}),s=c("div",{className:"tabs-code codes"});let a=n[0][0],o="application/json";const l=new Map;for(const[E,y]of n){const x=co(E,E===a),$=y.content&&Object.keys(y.content)[0]||"application/json",O=y.content?.[$],I=O?.schema?Tt(O.schema):"plain";let D,_,j,W;if(O?.schema){const z=To(O.schema);D=z.body,_=z.toggleCollapse,j=z.isExpanded,W=z.hasExpandable}else{const z=c("div",{className:"schema"}),xe=c("div",{className:"body"});xe.append(c("p",{textContent:y.description||"No schema"})),z.append(xe),D=z,_=()=>{},j=()=>!1,W=!1}const X=y.headers?mc(y.headers):null;l.set(E,{body:D,headers:X,contentType:$,schemaType:I,toggleCollapse:_,isExpanded:j,hasExpandable:W}),s.append(x),x.addEventListener("click",()=>{s.querySelectorAll('[data-badge-group="response-code"]').forEach(xe=>Wr(xe,!1)),Wr(x,!0),a=E;const z=l.get(E);o=z.contentType,u.textContent=z.contentType,f.textContent=z.schemaType,p.style.display=z.hasExpandable?"inline-flex":"none",p.classList.toggle("is-expanded",z.hasExpandable&&z.isExpanded()),p.title=z.hasExpandable&&z.isExpanded()?"Collapse all":"Expand all",h.innerHTML="",z.headers?(h.append(z.headers),h.hidden=!1):h.hidden=!0,v.innerHTML="",v.append(z.body)})}r.append(s);const u=R({text:o,kind:"chip",size:"s"}),f=R({text:l.get(a)?.schemaType||"plain",kind:"chip",size:"s"}),p=c("button",{className:"schema-collapse-btn is-expanded",type:"button",title:"Collapse all"});p.innerHTML=H.chevronDown,p.addEventListener("click",E=>{E.stopPropagation();const y=l.get(a);y?.hasExpandable&&(y.toggleCollapse(),p.classList.toggle("is-expanded",y.isExpanded()),p.title=y.isExpanded()?"Collapse all":"Expand all")}),r.append(u,f,p),i.append(Tn(r));const g=Vt(),h=c("div",{className:"params wrap"}),v=c("div"),m=l.get(a);return m&&(m.headers?(h.append(m.headers),h.hidden=!1):h.hidden=!0,v.append(m.body),p.style.display=m.hasExpandable?"inline-flex":"none",p.classList.toggle("is-expanded",m.hasExpandable&&m.isExpanded()),p.title=m.hasExpandable&&m.isExpanded()?"Collapse all":"Expand all"),g.append(h,v),i.append(g),t.append(i),t}function vc(e){const t=ve({titleEl:_n("Callbacks",R({text:String(e.callbacks.length),kind:"chip",size:"m"}))});for(const n of e.callbacks){const i=c("div",{className:"callback-block"});i.append(c("div",{className:"callback-name",textContent:n.name}));for(const r of n.operations){const s=c("div",{className:"callback-operation"}),a=c("div",{className:"callback-op-header"});if(a.append(R({text:r.method.toUpperCase(),kind:"method",method:r.method}),c("span",{className:"callback-op-path",textContent:r.path})),s.append(a),r.summary&&s.append(c("div",{className:"callback-op-summary",textContent:r.summary})),r.description&&s.append(c("p",{textContent:r.description})),r.requestBody){const o=r.requestBody.content||{};for(const[l,u]of Object.entries(o))u.schema&&s.append(ft(u.schema,`${l} — Request Body`))}if(Object.keys(r.responses).length>0)for(const[o,l]of Object.entries(r.responses)){const u=c("div",{className:"callback-response-row"});if(u.append(R({text:o,kind:"status",statusCode:o})),l.description&&u.append(c("p",{textContent:l.description})),l.content)for(const[f,p]of Object.entries(l.content))p.schema&&u.append(ft(p.schema,`${f}`));s.append(u)}i.append(s)}t.append(i)}return t}function bc(e){const t=Object.keys(e.responses).sort((n,i)=>{const r=n.startsWith("2")?0:n.startsWith("4")?1:2,s=i.startsWith("2")?0:i.startsWith("4")?1:2;return r-s||n.localeCompare(i)});for(const n of t){const i=e.responses[n];if(!i?.content)continue;const r=Object.keys(i.content)[0]||"application/json",s=i.content[r],o=(s?ci(s):[])[0];if(o&&o.value!==void 0){const l=typeof o.value=="string"?o.value:JSON.stringify(o.value,null,2),u=i.description||(n.startsWith("2")?"OK":n.startsWith("4")?"Not Found":"Error");return{statusCode:n,statusText:u,body:l}}if(s?.example!==void 0){const l=typeof s.example=="string"?s.example:JSON.stringify(s.example,null,2);return{statusCode:n,statusText:i.description||"OK",body:l}}}return null}function yc(e,t){const n=t.resolvedSecurity?.requirements||[];if(!le(t.resolvedSecurity))return!1;const i=(e.auth.token||"").trim(),r=e.auth.schemes||{},s=e.auth.activeScheme,a=o=>String(r[o]||"").trim()?!0:i?!s||s===o:!1;return n.some(o=>{const l=o.map(u=>u.schemeName);return l.length===0?!0:l.every(u=>a(u))})}function xc(e,t,n){fe(e);const i=k.get().spec;if(!i)return;const r=i.tags.find(m=>m.name===n);if(!r||r.operations.length===0){const m=c("div",{className:"block header"});m.append(c("h1",{textContent:"Tag not found"})),e.append(m),e.append(ve({title:"Details"},c("p",{textContent:`No operations for tag "${n}"`})));return}const s=c("div",{className:"block header"});s.append(c("h1",{textContent:r.name}));const a=k.get(),o=Hr(a),l=In([{label:o||i.info.title||"Главная",href:"/",className:"breadcrumb-item",onClick:m=>{m.preventDefault(),se("/")}},{label:n,className:"breadcrumb-current"}],{className:"breadcrumb-tag-page",leading:[R({text:"Category",kind:"chip",size:"m"})]}),u=c("div",{className:"breadcrumb-wrap"});u.append(l),s.append(u),r.description&&s.append(c("p",{textContent:r.description})),e.append(s);const f=Sc(r),p=r.operations.filter(m=>le(m.resolvedSecurity)).length,g=r.operations.filter(m=>m.deprecated).length;e.append(ve({className:"summary"},ti([{label:"Endpoints",value:r.operations.length},{label:"Auth Required",value:p},{label:"Deprecated",value:g}],f)));const h=ve({title:"Endpoints"}),v=k.get().route;for(const m of r.operations){const E={type:"endpoint",tag:r.name,method:m.method,path:m.path},y=v.type==="endpoint"&&v.method===m.method&&v.path===m.path,x=$e({interactive:!0,active:y,className:`card-group${m.deprecated?" deprecated":""}`,onClick:()=>se(ae(E))}),$=c("div",{className:"card-info"});$.append(c("h3",{},c("code",{textContent:m.path}))),(m.summary||m.operationId)&&$.append(c("p",{textContent:m.summary||m.operationId}));const O=c("div",{className:"card-badges"});O.append(R({text:m.method.toUpperCase(),kind:"method",method:m.method,size:"m"})),le(m.resolvedSecurity)&&O.append(Mn({configured:jn(m.resolvedSecurity,i.securitySchemes||{}),variant:"tag",title:st(m.resolvedSecurity)})),x.append($,O),h.append(x)}e.append(h)}function Sc(e){const t={};for(const n of e.operations)t[n.method]=(t[n.method]||0)+1;return t}async function Ec(e,t){fe(e);const n=R({text:"WEBHOOK",kind:"webhook",size:"m"}),i=R({text:t.method.toUpperCase(),kind:"method",method:t.method,size:"m"}),r=In([{label:"Overview",href:"/",className:"breadcrumb-item",onClick:u=>{u.preventDefault(),se("/")}},{label:t.name,className:"breadcrumb-segment"}],{leading:[n,i]}),s=c("div",{className:"block header"});t.summary?s.append(c("h1",{textContent:t.summary})):s.append(c("h1",{textContent:t.name}));const a=c("div",{className:"breadcrumb-wrap"});a.append(r),s.append(a),t.description&&s.append(c("p",{textContent:t.description})),e.append(s);const o=t.parameters.filter(u=>u.in!=="cookie");if(o.length>0){const u=ve({title:"Parameters"},kc(o));e.append(u)}if(t.requestBody){const u=ve({title:"Webhook Payload"});t.requestBody.description&&u.append(c("p",{textContent:t.requestBody.description}));const f=t.requestBody.content||{};for(const[p,g]of Object.entries(f))if(g.schema){const h=Ln({title:"Body"});h.append(R({text:p,kind:"chip",size:"s"})),u.append(ft(g.schema,h))}e.append(u)}if(Object.keys(t.responses).length>0){const u=ve({title:"Expected Responses"});for(const[f,p]of Object.entries(t.responses)){const g=c("div",{className:"response-block"});if(g.append(R({text:f,kind:"status",statusCode:f})),p.description&&g.append(c("p",{textContent:p.description})),p.content)for(const[h,v]of Object.entries(p.content))v.schema&&g.append(ft(v.schema,`${h} — Schema`));u.append(g)}e.append(u)}const l=vi({type:"webhook",webhookName:t.name});l&&e.append(c("div",{className:"block section"},l))}function kc(e){const t=e.filter(r=>r.in==="path").length,n=e.filter(r=>r.in==="query").length,i=t>0&&n>0?"Parameters":t>0?"Path":"Query";return ri(e,{headerTitle:i,withEnumAndDefault:!1})}function Nc(){const e=c("div",{className:"page"}),t=c("div",{className:"main",role:"main"}),n=c("div",{className:"content"});t.append(n);const i=c("div",{className:"aside","aria-label":"Panel"}),r=c("div",{className:"content"});return i.append(r),i.hidden=!0,e.append(t,i),{page:e,main:n,aside:r}}function Le(e,t){const n=e.querySelector(".aside");n&&(n.hidden=!t)}function rn(e){const{title:t,message:n,icon:i,variant:r="empty"}=e;if(r==="loading")return c("div",{className:"block header"},c("h2",{textContent:t}),c("div",{className:"loading"},c("div",{className:"spinner"}),c("span",null,n||t)));const s=c("div",{className:"block header"});return i&&s.append(c("span",{innerHTML:i,className:"icon-muted"})),s.append(c("h2",{textContent:t})),n&&s.append(c("p",{className:"error-message",textContent:n})),s}let je=null,Ne=null,Gn=null,Yn=null,Vn=null,ht=null,sn=!1,an="";function Cc(e,t){je=c("div",{className:"root"});const n={primaryColor:t.primaryColor};Pr(je,k.get().theme,n);const i=c("button",{type:"button",className:"sidebar-expand-trigger","aria-label":"Open sidebar"});i.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.75"><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></svg>',i.addEventListener("click",()=>{k.set({sidebarOpen:!0}),Ne?.classList.remove("collapsed")}),Ne=c("aside",{className:"sidebar","aria-label":"Navigation"});const{page:r,main:s,aside:a}=Nc();Gn=r,Yn=s,Vn=a,je.append(i,Ne,r),e.append(je),k.subscribe(o=>{je&&(Pr(je,o.theme,n),Ne?.classList.toggle("collapsed",!o.sidebarOpen),i.classList.toggle("visible",!o.sidebarOpen),yi(o,t))}),Ne?.classList.toggle("collapsed",!k.get().sidebarOpen),i.classList.toggle("visible",!k.get().sidebarOpen),yi(k.get(),t)}function wc(){je&&(je.remove(),je=null,Ne=null,Gn=null,Yn=null,Vn=null,ht=null,sn=!1)}async function yi(e,t){const n=!!e.spec;Ne&&n?(sn?bo(Ne,e.route):Zr(Ne,t),sn=!0):sn=!1;const i=Yn,r=Vn,s=Gn;if(!i||!r||!s)return;if(e.loading){Le(s,!1),fe(r),wt(i,rn({title:"Loading...",message:"Loading API specification...",variant:"loading"}));const u=i.parentElement;u&&(u.scrollTop=0);return}if(e.error){Le(s,!1),fe(r),wt(i,rn({title:"Failed to load API specification",message:e.error,icon:H.warning,variant:"error"}));const u=i.parentElement;u&&(u.scrollTop=0);return}if(!e.spec)return;const a=e.route,o=`${e.activeEnvironment}|${e.auth.token}`;if(ht&&Si(ht,a)&&an===o)return;switch(ht&&Si(ht,a)&&an!==o&&(an=o,Ac(s,e),Ne&&e.spec&&Zr(Ne,t)),ht={...a},an=o,fe(i),fe(r),a.type){case"overview":Le(s,!1),ni(i);break;case"tag":{Le(s,!1),xc(i,r,a.tag||"");break}case"endpoint":{const u=xi(e,a);u?(Le(s,!0),await dc(i,r,u)):(Le(s,!1),wt(i,rn({title:"Endpoint not found",message:`${a.method?.toUpperCase()} ${a.path}`,variant:"empty"})));break}case"schema":{const u=e.spec.schemas[a.schemaName||""];if(u){Le(s,!1);const f=c("div",{className:"block header"});f.append(c("h1",{textContent:a.schemaName||""})),u.description&&f.append(c("p",{textContent:String(u.description)}));const p=c("div",{className:"block section"});p.append(ft(u,"Properties")),wt(i,f,p)}break}case"webhook":{const u=e.spec.webhooks?.find(f=>f.name===a.webhookName);u?(Le(s,!1),Ec(i,u)):(Le(s,!1),wt(i,rn({title:"Webhook not found",message:a.webhookName||"",variant:"empty"})));break}default:Le(s,!1),ni(i)}const l=i.parentElement;l&&(l.scrollTop=0)}function Ac(e,t,n){const i=Wt(t),r=Kt(i),s=e.querySelector(".breadcrumb-item");if(s&&(s.textContent=r||t.spec?.info.title||"Главная"),t.route.type!=="endpoint"||!t.spec)return;const a=e.querySelector(".aside.try-it .content"),o=xi(t,t.route);if(o&&le(o.resolvedSecurity)&&a){const l=a.querySelector(".headers-list");if(l){const u=["Authorization","Cookie"];Array.from(l.querySelectorAll(".header-row")).filter(y=>{const x=y.querySelector("[data-header-name]");return x&&u.includes(x.value)}).forEach(y=>y.remove());const g=qn(o.resolvedSecurity,t.spec.securitySchemes),v={...Pn(o.resolvedSecurity,t.spec.securitySchemes),...g},m=Array.from(l.querySelectorAll(".header-row")),E=m.find(y=>{const x=y.querySelector("[data-header-name]");return x&&x.value==="Content-Type"})||m[0];for(const[y,x]of Object.entries(v).reverse()){const $=It(y,x);E?E.insertAdjacentElement("beforebegin",$):l.prepend($)}}}a&&o&&a.dispatchEvent(new Event("input",{bubbles:!0}))}function xi(e,t){return e.spec&&e.spec.operations.find(n=>n.method===t.method&&n.path===t.path)||null}function Si(e,t){return e.type===t.type&&e.method===t.method&&e.path===t.path&&e.schemaName===t.schemaName&&e.tag===t.tag&&e.webhookName===t.webhookName}const Ei="ap_portal_prefs";function Oc(){try{const e=localStorage.getItem(Ei);if(!e)return null;const t=JSON.parse(e);return!t||typeof t!="object"?null:{activeEnvironment:typeof t.activeEnvironment=="string"?t.activeEnvironment:"",environments:Array.isArray(t.environments)?t.environments:[],auth:t.auth&&typeof t.auth=="object"?{schemes:t.auth.schemes&&typeof t.auth.schemes=="object"?t.auth.schemes:{},activeScheme:typeof t.auth.activeScheme=="string"?t.auth.activeScheme:"",token:typeof t.auth.token=="string"?t.auth.token:"",locked:!!t.auth.locked,source:t.auth.source==="manual"||t.auth.source==="auto-body"||t.auth.source==="auto-header"?t.auth.source:"manual"}:{schemes:{},activeScheme:"",token:"",locked:!1,source:"manual"}}}catch{return null}}function Tc(e){try{localStorage.setItem(Ei,JSON.stringify(e))}catch{}}function ki(e){if(e.type==="http"){const t=(e.scheme||"").toLowerCase();return t==="bearer"?0:t==="basic"?3:4}return e.type==="oauth2"||e.type==="openIdConnect"?1:e.type==="apiKey"?2:5}function Lc(e){const t=Object.keys(e);if(t.length===0)return"";let n=t[0],i=ki(e[n]);for(let r=1;r<t.length;r++){const s=t[r],a=ki(e[s]);a<i&&(i=a,n=s)}return n}function _c(e,t){if(e.activeScheme!==t.activeScheme||e.token!==t.token||e.locked!==t.locked||e.source!==t.source)return!1;const n=Object.entries(e.schemes),i=Object.entries(t.schemes);if(n.length!==i.length)return!1;for(const[r,s]of n)if(t.schemes[r]!==s)return!1;return!0}function Ic(e,t){const n=Object.keys(t);if(n.length===0)return{...e,schemes:{...e.schemes}};const i={};for(const a of n){const o=e.schemes[a];typeof o=="string"&&o.length>0&&(i[a]=o)}let r=e.activeScheme;(!r||!t[r])&&(r=n.find(a=>!!i[a])||""),!r&&e.token&&(r=Lc(t)),r&&e.token&&!i[r]&&(i[r]=e.token);let s=e.token;return r&&i[r]&&s!==i[r]&&(s=i[r]),!s&&r&&i[r]&&(s=i[r]),{...e,schemes:i,activeScheme:r,token:s}}function Mc(e,t){let n;return((...i)=>{clearTimeout(n),n=setTimeout(()=>e(...i),t)})}let on=!1,Jn=null,Xn=null;async function Ni(e){let t=null;on&&(t=k.get().auth,Zn());const n=typeof e.mount=="string"?document.querySelector(e.mount):e.mount;if(!n)throw new Error(`[PureDocs] Mount target not found: ${String(e.mount)}`);k.reset();const i=e.environments||[{name:"default",baseUrl:""}],r=e.defaultEnvironment||i[0]?.name||"default";k.set({loading:!0,theme:Za(e.theme),environments:[...i],initialEnvironments:[...i],activeEnvironment:r});const s=Oc();s?k.set({activeEnvironment:s.activeEnvironment&&i.some(o=>o.name===s.activeEnvironment)?s.activeEnvironment:r,auth:s.auth}):t&&k.setAuth(t);const a=Mc(()=>{const o=k.get();Tc({activeEnvironment:o.activeEnvironment,environments:o.environments,auth:o.auth})},300);k.subscribe(()=>a()),Hi(e.basePath),Xn=vo(),Cc(n,e),on=!0;try{let o;const l=e.specUrl;if(e.spec)o=e.spec;else if(l)o=await Ya(l);else throw new Error("Either spec or specUrl must be provided");const u=ja(o);if(u.servers.length>0&&k.get().environments[0]?.baseUrl===""){const g=[...k.get().environments];g[0]={...g[0],baseUrl:u.servers[0].url};for(let h=1;h<u.servers.length;h++){const v=u.servers[h];g.push({name:v.description||`Server ${h+1}`,baseUrl:v.url})}k.set({environments:g,initialEnvironments:g.map(h=>({...h}))})}const f=k.get().auth,p=Ic(f,u.securitySchemes);_c(f,p)||k.setAuth(p),Va(u),k.set({spec:u,loading:!1,error:null})}catch(o){k.set({loading:!1,error:o.message||"Failed to load specification"})}return Jn=Rc(),Jn}function Zn(){on&&(Xn?.(),Xn=null,zi(),wc(),k.reset(),on=!1,Jn=null)}function Rc(){return{getState:()=>k.get(),subscribe:e=>k.subscribe(e),setToken:e=>{const t=k.get().auth.activeScheme;t?k.setSchemeValue(t,e):k.setAuth({token:e,source:"manual"})},setEnvironment:e=>k.setActiveEnvironment(e),navigate:e=>se(e)}}const Ci=["spec-url","spec-json","theme","primary-color","base-path","default-environment","environments-array","title"],qe=class qe extends HTMLElement{constructor(){super(...arguments),this.api=null,this.reloadTimer=null}static get observedAttributes(){return[...Ci]}async connectedCallback(){if(qe.activeElement&&qe.activeElement!==this){this.renderSingletonError();return}qe.activeElement=this,await this.mountFromAttributes()}disconnectedCallback(){qe.activeElement===this&&(this.api=null,Zn(),qe.activeElement=null)}attributeChangedCallback(t,n,i){this.isConnected&&n!==i&&Ci.includes(t)&&(this.reloadTimer&&clearTimeout(this.reloadTimer),this.reloadTimer=setTimeout(()=>{this.reload()},80))}async reload(){qe.activeElement===this&&await this.mountFromAttributes()}getState(){return this.api?.getState()||null}subscribe(t){return this.api?.subscribe(t)||(()=>{})}navigate(t){this.api?.navigate(t)}setToken(t){this.api?.setToken(t)}setEnvironment(t){this.api?.setEnvironment(t)}async mountFromAttributes(){try{this.innerHTML="";const t=this.parseConfig();this.api=await Ni({...t,mount:this})}catch(t){const n=t instanceof Error?t.message:String(t);this.innerHTML=`<div style="padding:12px;border:1px solid #ef4444;border-radius:8px;color:#ef4444;background:#fff1f2;font-family:system-ui,sans-serif">[PureDocs] ${n}</div>`}}parseConfig(){const t=this.getAttribute("spec-json"),n=this.getAttribute("environments-array");return{specUrl:this.getAttribute("spec-url")||void 0,spec:t?wi(t,"spec-json"):void 0,theme:$c(this.getAttribute("theme")),primaryColor:this.getAttribute("primary-color")||void 0,basePath:this.getAttribute("base-path")||void 0,defaultEnvironment:this.getAttribute("default-environment")||void 0,environments:n?Bc(n):void 0,title:this.getAttribute("title")||void 0}}renderSingletonError(){this.innerHTML='<div style="padding:12px;border:1px solid #f59e0b;border-radius:8px;color:#92400e;background:#fffbeb;font-family:system-ui,sans-serif">Only one &lt;pure-docs&gt; instance can be mounted at a time.</div>'}};qe.activeElement=null;let cn=qe;function wi(e,t){try{return JSON.parse(e)}catch{throw new Error(`Invalid JSON in ${t}`)}}function Bc(e){const t=wi(e,"environments-array");if(!Array.isArray(t))throw new Error("Invalid JSON in environments-array");const n=new Set;return t.map((i,r)=>{if(typeof i!="string")throw new Error("Invalid JSON in environments-array");const s=An(i.trim());if(!s)throw new Error("Invalid JSON in environments-array");const a=Kt(s)||`env-${r+1}`;let o=a,l=2;for(;n.has(o);)o=`${a} #${l++}`;return n.add(o),{name:o,baseUrl:s}})}function $c(e){if(e&&(e==="light"||e==="dark"||e==="auto"))return e}customElements.get("pure-docs")||customElements.define("pure-docs",cn);const Ai={mount:Ni,unmount:Zn,version:"0.0.1"};He.PureDocs=Ai,He.PureDocsElement=cn,He.default=Ai,Object.defineProperties(He,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}));
//# sourceMappingURL=puredocs.umd.cjs.map
